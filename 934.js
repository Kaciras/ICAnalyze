(()=>{var e,n,t={9650:(e,n,t)=>{var r,a=(r=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){var n,a,o;e=e||{},n||(n=void 0!==e?e:{}),n.ready=new Promise((function(e,n){a=e,o=n}));var i,u,s,c,f,l={};for(i in n)n.hasOwnProperty(i)&&(l[i]=n[i]);u="object"==typeof window,s="function"==typeof importScripts,c="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,f=!u&&!c&&!s;var p,h,d,v,y,m="";c?(m=s?t(5783).dirname(m)+"/":"//",p=function(e,n){return v||(v=t(2203)),y||(y=t(5783)),e=y.normalize(e),v.readFileSync(e,n?null:"utf8")},d=function(e){return(e=p(e,!0)).buffer||(e=new Uint8Array(e)),P(e.buffer),e},1<process.argv.length&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",(function(e){throw e})),process.on("unhandledRejection",J),n.inspect=function(){return"[Emscripten Module object]"}):f?("undefined"!=typeof read&&(p=function(e){return read(e)}),d=function(e){return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(P("object"==typeof(e=read(e,"binary"))),e)},"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(u||s)&&(s?m=self.location.href:"undefined"!=typeof document&&document.currentScript&&(m=document.currentScript.src),r&&(m=r),m=0!==m.indexOf("blob:")?m.substr(0,m.lastIndexOf("/")+1):"",p=function(e){var n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(null),n.responseText},s&&(d=function(e){var n=new XMLHttpRequest;return n.open("GET",e,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),h=function(e,n,t){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?n(r.response):t()},r.onerror=t,r.send(null)});var g,w=n.print||console.log.bind(console),b=n.printErr||console.warn.bind(console);for(i in l)l.hasOwnProperty(i)&&(n[i]=l[i]);l=null,n.wasmBinary&&(g=n.wasmBinary),n.noExitRuntime,"object"!=typeof WebAssembly&&J("no native wasm support detected");var _,T=!1;function P(e,n){e||J("Assertion failed: "+n)}var A="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function C(e,n,t){var r=n+t;for(t=n;e[t]&&!(t>=r);)++t;if(16<t-n&&e.subarray&&A)return A.decode(e.subarray(n,t));for(r="";n<t;){var a=e[n++];if(128&a){var o=63&e[n++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[n++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[n++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}var O,S,E,k,N,W,R,j,U,x="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function I(e,n){for(var t=e>>1,r=t+n/2;!(t>=r)&&N[t];)++t;if(32<(t<<=1)-e&&x)return x.decode(E.subarray(e,t));for(t="",r=0;!(r>=n/2);++r){var a=k[e+2*r>>1];if(0==a)break;t+=String.fromCharCode(a)}return t}function F(e,n,t){if(void 0===t&&(t=2147483647),2>t)return 0;var r=n;t=(t-=2)<2*e.length?t/2:e.length;for(var a=0;a<t;++a)k[n>>1]=e.charCodeAt(a),n+=2;return k[n>>1]=0,n-r}function V(e){return 2*e.length}function M(e,n){for(var t=0,r="";!(t>=n/4);){var a=W[e+4*t>>2];if(0==a)break;++t,65536<=a?(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a)):r+=String.fromCharCode(a)}return r}function D(e,n,t){if(void 0===t&&(t=2147483647),4>t)return 0;var r=n;t=r+t-4;for(var a=0;a<e.length;++a){var o=e.charCodeAt(a);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++a)),W[n>>2]=o,(n+=4)+4>t)break}return W[n>>2]=0,n-r}function q(e){for(var n=0,t=0;t<e.length;++t){var r=e.charCodeAt(t);55296<=r&&57343>=r&&++t,n+=4}return n}function z(){var e=_.buffer;O=e,n.HEAP8=S=new Int8Array(e),n.HEAP16=k=new Int16Array(e),n.HEAP32=W=new Int32Array(e),n.HEAPU8=E=new Uint8Array(e),n.HEAPU16=N=new Uint16Array(e),n.HEAPU32=R=new Uint32Array(e),n.HEAPF32=j=new Float32Array(e),n.HEAPF64=U=new Float64Array(e)}var B,Y=[],$=[],H=[],L=[];function G(){var e=n.preRun.shift();Y.unshift(e)}var X=0,Q=null,Z=null;function J(e){throw n.onAbort&&n.onAbort(e),b(e),T=!0,e=new WebAssembly.RuntimeError("abort("+e+"). Build with -s ASSERTIONS=1 for more info."),o(e),e}function K(e){var n=ne;return String.prototype.startsWith?n.startsWith(e):0===n.indexOf(e)}function ee(){return K("data:application/octet-stream;base64,")}n.preloadedImages={},n.preloadedAudios={};var ne="diff.wasm";if(!ee()){var te=ne;ne=n.locateFile?n.locateFile(te,m):m+te}function re(){var e=ne;try{if(e==ne&&g)return new Uint8Array(g);if(d)return d(e);throw"both async and sync fetching of the wasm failed"}catch(e){J(e)}}function ae(e){for(;0<e.length;){var t=e.shift();if("function"==typeof t)t(n);else{var r=t.Ka;"number"==typeof r?void 0===t.ga?B.get(r)():B.get(r)(t.ga):r(void 0===t.ga?null:t.ga)}}}function oe(e){this.O=e-16,this.Fa=function(e){W[this.O+8>>2]=e},this.Ca=function(e){W[this.O+0>>2]=e},this.Da=function(){W[this.O+4>>2]=0},this.Ba=function(){S[this.O+12>>0]=0},this.Ea=function(){S[this.O+13>>0]=0},this.wa=function(e,n){this.Fa(e),this.Ca(n),this.Da(),this.Ba(),this.Ea()}}var ie={};function ue(e){for(;e.length;){var n=e.pop();e.pop()(n)}}function se(e){return this.fromWireType(R[e>>2])}var ce={},fe={},le={};function pe(e){if(void 0===e)return"_unknown";var n=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return 48<=n&&57>=n?"_"+e:e}function he(e,n){return e=pe(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(n)}function de(e){var n=Error,t=he(e,(function(n){this.name=e,this.message=n,void 0!==(n=Error(n).stack)&&(this.stack=this.toString()+"\n"+n.replace(/^Error(:[^\n]*)?\n/,""))}));return t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},t}var ve=void 0;function ye(e){throw new ve(e)}function me(e,n,t){function r(n){(n=t(n)).length!==e.length&&ye("Mismatched type converter count");for(var r=0;r<e.length;++r)Pe(e[r],n[r])}e.forEach((function(e){le[e]=n}));var a=Array(n.length),o=[],i=0;n.forEach((function(e,n){fe.hasOwnProperty(e)?a[n]=fe[e]:(o.push(e),ce.hasOwnProperty(e)||(ce[e]=[]),ce[e].push((function(){a[n]=fe[e],++i===o.length&&r(a)})))})),0===o.length&&r(a)}function ge(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}var we=void 0;function be(e){for(var n="";E[e];)n+=we[E[e++]];return n}var _e=void 0;function Te(e){throw new _e(e)}function Pe(e,n,t){if(t=t||{},!("argPackAdvance"in n))throw new TypeError("registerType registeredInstance requires argPackAdvance");var r=n.name;if(e||Te('type "'+r+'" must have a positive integer typeid pointer'),fe.hasOwnProperty(e)){if(t.va)return;Te("Cannot register type '"+r+"' twice")}fe[e]=n,delete le[e],ce.hasOwnProperty(e)&&(n=ce[e],delete ce[e],n.forEach((function(e){e()})))}function Ae(e){Te(e.N.R.P.name+" instance already deleted")}var Ce=!1;function Oe(){}function Se(e){--e.count.value,0===e.count.value&&(e.S?e.T.X(e.S):e.R.P.X(e.O))}function Ee(e){return"undefined"==typeof FinalizationGroup?(Ee=function(e){return e},e):(Ce=new FinalizationGroup((function(e){for(var n=e.next();!n.done;n=e.next())(n=n.value).O?Se(n):console.warn("object already deleted: "+n.O)})),Oe=function(e){Ce.unregister(e.N)},(Ee=function(e){return Ce.register(e,e.N,e.N),e})(e))}var ke=void 0,Ne=[];function We(){for(;Ne.length;){var e=Ne.pop();e.N.Z=!1,e.delete()}}function Re(){}var je={};function Ue(e,n,t){if(void 0===e[n].W){var r=e[n];e[n]=function(){return e[n].W.hasOwnProperty(arguments.length)||Te("Function '"+t+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[n].W+")!"),e[n].W[arguments.length].apply(this,arguments)},e[n].W=[],e[n].W[r.da]=r}}function xe(e,n,t,r,a,o,i,u){this.name=e,this.constructor=n,this.$=t,this.X=r,this.U=a,this.qa=o,this.ba=i,this.oa=u,this.za=[]}function Ie(e,n,t){for(;n!==t;)n.ba||Te("Expected null or instance of "+t.name+", got an instance of "+n.name),e=n.ba(e),n=n.U;return e}function Fe(e,n){return null===n?(this.ha&&Te("null is not a valid "+this.name),0):(n.N||Te('Cannot pass "'+en(n)+'" as a '+this.name),n.N.O||Te("Cannot pass deleted object as a pointer of type "+this.name),Ie(n.N.O,n.N.R.P,this.P))}function Ve(e,n){if(null===n){if(this.ha&&Te("null is not a valid "+this.name),this.fa){var t=this.ia();return null!==e&&e.push(this.X,t),t}return 0}if(n.N||Te('Cannot pass "'+en(n)+'" as a '+this.name),n.N.O||Te("Cannot pass deleted object as a pointer of type "+this.name),!this.ea&&n.N.R.ea&&Te("Cannot convert argument of type "+(n.N.T?n.N.T.name:n.N.R.name)+" to parameter type "+this.name),t=Ie(n.N.O,n.N.R.P,this.P),this.fa)switch(void 0===n.N.S&&Te("Passing raw pointer to smart pointer is illegal"),this.Ja){case 0:n.N.T===this?t=n.N.S:Te("Cannot convert argument of type "+(n.N.T?n.N.T.name:n.N.R.name)+" to parameter type "+this.name);break;case 1:t=n.N.S;break;case 2:if(n.N.T===this)t=n.N.S;else{var r=n.clone();t=this.Aa(t,Ke((function(){r.delete()}))),null!==e&&e.push(this.X,t)}break;default:Te("Unsupporting sharing policy")}return t}function Me(e,n){return null===n?(this.ha&&Te("null is not a valid "+this.name),0):(n.N||Te('Cannot pass "'+en(n)+'" as a '+this.name),n.N.O||Te("Cannot pass deleted object as a pointer of type "+this.name),n.N.R.ea&&Te("Cannot convert argument of type "+n.N.R.name+" to parameter type "+this.name),Ie(n.N.O,n.N.R.P,this.P))}function De(e,n,t){return n===t?e:void 0===t.U||null===(e=De(e,n,t.U))?null:t.oa(e)}var qe={};function ze(e,n){return n.R&&n.O||ye("makeClassHandle requires ptr and ptrType"),!!n.T!=!!n.S&&ye("Both smartPtrType and smartPtr must be specified"),n.count={value:1},Ee(Object.create(e,{N:{value:n}}))}function Be(e,n,t,r){this.name=e,this.P=n,this.ha=t,this.ea=r,this.fa=!1,this.X=this.Aa=this.ia=this.ma=this.Ja=this.ya=void 0,void 0!==n.U?this.toWireType=Ve:(this.toWireType=r?Fe:Me,this.V=null)}function Ye(e,t){var r=-1!=(e=be(e)).indexOf("j")?function(e,t){var r=[];return function(){r.length=arguments.length;for(var a=0;a<arguments.length;a++)r[a]=arguments[a];return-1!=e.indexOf("j")?(a=n["dynCall_"+e],a=r&&r.length?a.apply(null,[t].concat(r)):a.call(null,t)):a=B.get(t).apply(null,r),a}}(e,t):B.get(t);return"function"!=typeof r&&Te("unknown function pointer with signature "+e+": "+t),r}var $e=void 0;function He(e){var n=be(e=gn(e));return mn(e),n}function Le(e,n){var t=[],r={};throw n.forEach((function e(n){r[n]||fe[n]||(le[n]?le[n].forEach(e):(t.push(n),r[n]=!0))})),new $e(e+": "+t.map(He).join([", "]))}function Ge(e,n){for(var t=[],r=0;r<e;r++)t.push(W[(n>>2)+r]);return t}function Xe(e){var n=Function;if(!(n instanceof Function))throw new TypeError("new_ called with constructor type "+typeof n+" which is not a function");var t=he(n.name||"unknownFunctionName",(function(){}));return t.prototype=n.prototype,t=new t,(e=n.apply(t,e))instanceof Object?e:t}var Qe=[],Ze=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Je(e){4<e&&0==--Ze[e].ja&&(Ze[e]=void 0,Qe.push(e))}function Ke(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var n=Qe.length?Qe.pop():Ze.length;return Ze[n]={ja:1,value:e},n}}function en(e){if(null===e)return"null";var n=typeof e;return"object"===n||"array"===n||"function"===n?e.toString():""+e}function nn(e,n){switch(n){case 2:return function(e){return this.fromWireType(j[e>>2])};case 3:return function(e){return this.fromWireType(U[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function tn(e,n,t){switch(n){case 0:return t?function(e){return S[e]}:function(e){return E[e]};case 1:return t?function(e){return k[e>>1]}:function(e){return N[e>>1]};case 2:return t?function(e){return W[e>>2]}:function(e){return R[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}var rn={};function an(e){var n=rn[e];return void 0===n?be(e):n}var on=[];function un(e){return e||Te("Cannot use deleted val. handle = "+e),Ze[e].value}function sn(){return"object"==typeof globalThis?globalThis:Function("return this")()}function cn(e,n){var t=fe[e];return void 0===t&&Te(n+" has unknown type "+He(e)),t}var fn={},ln=[null,[],[]];ve=n.InternalError=de("InternalError");for(var pn=Array(256),hn=0;256>hn;++hn)pn[hn]=String.fromCharCode(hn);we=pn,_e=n.BindingError=de("BindingError"),Re.prototype.isAliasOf=function(e){if(!(this instanceof Re&&e instanceof Re))return!1;var n=this.N.R.P,t=this.N.O,r=e.N.R.P;for(e=e.N.O;n.U;)t=n.ba(t),n=n.U;for(;r.U;)e=r.ba(e),r=r.U;return n===r&&t===e},Re.prototype.clone=function(){if(this.N.O||Ae(this),this.N.aa)return this.N.count.value+=1,this;var e=Ee,n=Object,t=n.create,r=Object.getPrototypeOf(this),a=this.N;return(e=e(t.call(n,r,{N:{value:{count:a.count,Z:a.Z,aa:a.aa,O:a.O,R:a.R,S:a.S,T:a.T}}}))).N.count.value+=1,e.N.Z=!1,e},Re.prototype.delete=function(){this.N.O||Ae(this),this.N.Z&&!this.N.aa&&Te("Object already scheduled for deletion"),Oe(this),Se(this.N),this.N.aa||(this.N.S=void 0,this.N.O=void 0)},Re.prototype.isDeleted=function(){return!this.N.O},Re.prototype.deleteLater=function(){return this.N.O||Ae(this),this.N.Z&&!this.N.aa&&Te("Object already scheduled for deletion"),Ne.push(this),1===Ne.length&&ke&&ke(We),this.N.Z=!0,this},Be.prototype.ra=function(e){return this.ma&&(e=this.ma(e)),e},Be.prototype.ka=function(e){this.X&&this.X(e)},Be.prototype.argPackAdvance=8,Be.prototype.readValueFromPointer=se,Be.prototype.deleteObject=function(e){null!==e&&e.delete()},Be.prototype.fromWireType=function(e){function n(){return this.fa?ze(this.P.$,{R:this.ya,O:t,T:this,S:e}):ze(this.P.$,{R:this,O:e})}var t=this.ra(e);if(!t)return this.ka(e),null;var r=function(e,n){for(void 0===n&&Te("ptr should not be undefined");e.U;)n=e.ba(n),e=e.U;return qe[n]}(this.P,t);if(void 0!==r)return 0===r.N.count.value?(r.N.O=t,r.N.S=e,r.clone()):(r=r.clone(),this.ka(e),r);if(r=this.P.qa(t),!(r=je[r]))return n.call(this);r=this.ea?r.na:r.pointerType;var a=De(t,this.P,r.P);return null===a?n.call(this):this.fa?ze(r.P.$,{R:r,O:a,T:this,S:e}):ze(r.P.$,{R:r,O:a})},n.getInheritedInstanceCount=function(){return Object.keys(qe).length},n.getLiveInheritedInstances=function(){var e,n=[];for(e in qe)qe.hasOwnProperty(e)&&n.push(qe[e]);return n},n.flushPendingDeletes=We,n.setDelayFunction=function(e){ke=e,Ne.length&&ke&&ke(We)},$e=n.UnboundTypeError=de("UnboundTypeError"),n.count_emval_handles=function(){for(var e=0,n=5;n<Ze.length;++n)void 0!==Ze[n]&&++e;return e},n.get_first_emval=function(){for(var e=5;e<Ze.length;++e)if(void 0!==Ze[e])return Ze[e];return null};var dn={b:function(e,n,t,r){J("Assertion failed: "+(e?C(E,e,void 0):"")+", at: "+[n?n?C(E,n,void 0):"":"unknown filename",t,r?r?C(E,r,void 0):"":"unknown function"])},B:function(e){return yn(e+16)+16},E:function(){},A:function(e,n,t){throw new oe(e).wa(n,t),e},i:function(e){var n=ie[e];delete ie[e];var t=n.ia,r=n.X,a=n.la;me([e],a.map((function(e){return e.ua})).concat(a.map((function(e){return e.Ha}))),(function(e){var o={};return a.forEach((function(n,t){var r=e[t],i=n.sa,u=n.ta,s=e[t+a.length],c=n.Ga,f=n.Ia;o[n.pa]={read:function(e){return r.fromWireType(i(u,e))},write:function(e,n){var t=[];c(f,e,s.toWireType(t,n)),ue(t)}}})),[{name:n.name,fromWireType:function(e){var n,t={};for(n in o)t[n]=o[n].read(e);return r(e),t},toWireType:function(e,n){for(var a in o)if(!(a in n))throw new TypeError('Missing field:  "'+a+'"');var i=t();for(a in o)o[a].write(i,n[a]);return null!==e&&e.push(r,i),i},argPackAdvance:8,readValueFromPointer:se,V:r}]}))},y:function(e,n,t,r,a){var o=ge(t);Pe(e,{name:n=be(n),fromWireType:function(e){return!!e},toWireType:function(e,n){return n?r:a},argPackAdvance:8,readValueFromPointer:function(e){if(1===t)var r=S;else if(2===t)r=k;else{if(4!==t)throw new TypeError("Unknown boolean type size: "+n);r=W}return this.fromWireType(r[e>>o])},V:null})},t:function(e,t,r,a,o,i,u,s,c,f,l,p,h){l=be(l),i=Ye(o,i),s&&(s=Ye(u,s)),f&&(f=Ye(c,f)),h=Ye(p,h);var d=pe(l);!function(e,t){n.hasOwnProperty(e)?(Te("Cannot register public name '"+e+"' twice"),Ue(n,e,e),n.hasOwnProperty(void 0)&&Te("Cannot register multiple overloads of a function with the same number of arguments (undefined)!"),n[e].W[void 0]=t):n[e]=t}(d,(function(){Le("Cannot construct "+l+" due to unbound types",[a])})),me([e,t,r],a?[a]:[],(function(t){if(t=t[0],a)var r=t.P,o=r.$;else o=Re.prototype;t=he(d,(function(){if(Object.getPrototypeOf(this)!==u)throw new _e("Use 'new' to construct "+l);if(void 0===c.Y)throw new _e(l+" has no accessible constructor");var e=c.Y[arguments.length];if(void 0===e)throw new _e("Tried to invoke ctor of "+l+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(c.Y).toString()+") parameters instead!");return e.apply(this,arguments)}));var u=Object.create(o,{constructor:{value:t}});t.prototype=u;var c=new xe(l,t,u,h,r,i,s,f);r=new Be(l,c,!0,!1),o=new Be(l+"*",c,!1,!1);var p=new Be(l+" const*",c,!1,!0);return je[e]={pointerType:o,na:p},function(e,t){n.hasOwnProperty(e)||ye("Replacing nonexistant public symbol"),n[e]=t,n[e].da=void 0}(d,t),[r,o,p]}))},s:function(e,n,t,r,a,o){P(0<n);var i=Ge(n,t);a=Ye(r,a);var u=[o],s=[];me([],[e],(function(e){var t="constructor "+(e=e[0]).name;if(void 0===e.P.Y&&(e.P.Y=[]),void 0!==e.P.Y[n-1])throw new _e("Cannot register multiple constructors with identical number of parameters ("+(n-1)+") for class '"+e.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return e.P.Y[n-1]=function(){Le("Cannot construct "+e.name+" due to unbound types",i)},me([],i,(function(r){return e.P.Y[n-1]=function(){arguments.length!==n-1&&Te(t+" called with "+arguments.length+" arguments, expected "+(n-1)),s.length=0,u.length=n;for(var e=1;e<n;++e)u[e]=r[e].toWireType(s,arguments[e-1]);return e=a.apply(null,u),ue(s),r[0].fromWireType(e)},[]})),[]}))},r:function(e,n,t,r,a,o,i,u){var s=Ge(t,r);n=be(n),o=Ye(a,o),me([],[e],(function(e){function r(){Le("Cannot call "+a+" due to unbound types",s)}var a=(e=e[0]).name+"."+n;u&&e.P.za.push(n);var c=e.P.$,f=c[n];return void 0===f||void 0===f.W&&f.className!==e.name&&f.da===t-2?(r.da=t-2,r.className=e.name,c[n]=r):(Ue(c,n,a),c[n].W[t-2]=r),me([],s,(function(r){var u=a,s=e,f=o,l=r.length;2>l&&Te("argTypes array size mismatch! Must at least get return value and 'this' types!");var p=null!==r[1]&&null!==s,h=!1;for(s=1;s<r.length;++s)if(null!==r[s]&&void 0===r[s].V){h=!0;break}var d="void"!==r[0].name,v="",y="";for(s=0;s<l-2;++s)v+=(0!==s?", ":"")+"arg"+s,y+=(0!==s?", ":"")+"arg"+s+"Wired";u="return function "+pe(u)+"("+v+") {\nif (arguments.length !== "+(l-2)+") {\nthrowBindingError('function "+u+" called with ' + arguments.length + ' arguments, expected "+(l-2)+" args!');\n}\n",h&&(u+="var destructors = [];\n");var m=h?"destructors":"null";for(v="throwBindingError invoker fn runDestructors retType classParam".split(" "),f=[Te,f,i,ue,r[0],r[1]],p&&(u+="var thisWired = classParam.toWireType("+m+", this);\n"),s=0;s<l-2;++s)u+="var arg"+s+"Wired = argType"+s+".toWireType("+m+", arg"+s+"); // "+r[s+2].name+"\n",v.push("argType"+s),f.push(r[s+2]);if(p&&(y="thisWired"+(0<y.length?", ":"")+y),u+=(d?"var rv = ":"")+"invoker(fn"+(0<y.length?", ":"")+y+");\n",h)u+="runDestructors(destructors);\n";else for(s=p?1:2;s<r.length;++s)l=1===s?"thisWired":"arg"+(s-2)+"Wired",null!==r[s].V&&(u+=l+"_dtor("+l+"); // "+r[s].name+"\n",v.push(l+"_dtor"),f.push(r[s].V));return d&&(u+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),v.push(u+"}\n"),r=Xe(v).apply(null,f),void 0===c[n].W?(r.da=t-2,c[n]=r):c[n].W[t-2]=r,[]})),[]}))},x:function(e,n){Pe(e,{name:n=be(n),fromWireType:function(e){var n=Ze[e].value;return Je(e),n},toWireType:function(e,n){return Ke(n)},argPackAdvance:8,readValueFromPointer:se,V:null})},k:function(e,n,t){t=ge(t),Pe(e,{name:n=be(n),fromWireType:function(e){return e},toWireType:function(e,n){if("number"!=typeof n&&"boolean"!=typeof n)throw new TypeError('Cannot convert "'+en(n)+'" to '+this.name);return n},argPackAdvance:8,readValueFromPointer:nn(n,t),V:null})},d:function(e,n,t,r,a){function o(e){return e}n=be(n),-1===a&&(a=4294967295);var i=ge(t);if(0===r){var u=32-8*t;o=function(e){return e<<u>>>u}}var s=-1!=n.indexOf("unsigned");Pe(e,{name:n,fromWireType:o,toWireType:function(e,t){if("number"!=typeof t&&"boolean"!=typeof t)throw new TypeError('Cannot convert "'+en(t)+'" to '+this.name);if(t<r||t>a)throw new TypeError('Passing a number "'+en(t)+'" from JS side to C/C++ side to an argument of type "'+n+'", which is outside the valid range ['+r+", "+a+"]!");return s?t>>>0:0|t},argPackAdvance:8,readValueFromPointer:tn(n,i,0!==r),V:null})},c:function(e,n,t){function r(e){var n=R;return new a(O,n[1+(e>>=2)],n[e])}var a=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][n];Pe(e,{name:t=be(t),fromWireType:r,argPackAdvance:8,readValueFromPointer:r},{va:!0})},l:function(e,n){var t="std::string"===(n=be(n));Pe(e,{name:n,fromWireType:function(e){var n=R[e>>2];if(t)for(var r=e+4,a=0;a<=n;++a){var o=e+4+a;if(a==n||0==E[o]){if(r=r?C(E,r,o-r):"",void 0===i)var i=r;else i+=String.fromCharCode(0),i+=r;r=o+1}}else{for(i=Array(n),a=0;a<n;++a)i[a]=String.fromCharCode(E[e+4+a]);i=i.join("")}return mn(e),i},toWireType:function(e,n){n instanceof ArrayBuffer&&(n=new Uint8Array(n));var r="string"==typeof n;r||n instanceof Uint8Array||n instanceof Uint8ClampedArray||n instanceof Int8Array||Te("Cannot pass non-string to std::string");var a=(t&&r?function(){for(var e=0,t=0;t<n.length;++t){var r=n.charCodeAt(t);55296<=r&&57343>=r&&(r=65536+((1023&r)<<10)|1023&n.charCodeAt(++t)),127>=r?++e:e=2047>=r?e+2:65535>=r?e+3:e+4}return e}:function(){return n.length})(),o=yn(4+a+1);if(R[o>>2]=a,t&&r)!function(e,n,t){var r=E;if(0<t){t=n+t-1;for(var a=0;a<e.length;++a){var o=e.charCodeAt(a);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++a)),127>=o){if(n>=t)break;r[n++]=o}else{if(2047>=o){if(n+1>=t)break;r[n++]=192|o>>6}else{if(65535>=o){if(n+2>=t)break;r[n++]=224|o>>12}else{if(n+3>=t)break;r[n++]=240|o>>18,r[n++]=128|o>>12&63}r[n++]=128|o>>6&63}r[n++]=128|63&o}}r[n]=0}}(n,o+4,a+1);else if(r)for(r=0;r<a;++r){var i=n.charCodeAt(r);255<i&&(mn(o),Te("String has UTF-16 code units that do not fit in 8 bits")),E[o+4+r]=i}else for(r=0;r<a;++r)E[o+4+r]=n[r];return null!==e&&e.push(mn,o),o},argPackAdvance:8,readValueFromPointer:se,V:function(e){mn(e)}})},g:function(e,n,t){if(t=be(t),2===n)var r=I,a=F,o=V,i=function(){return N},u=1;else 4===n&&(r=M,a=D,o=q,i=function(){return R},u=2);Pe(e,{name:t,fromWireType:function(e){for(var t,a=R[e>>2],o=i(),s=e+4,c=0;c<=a;++c){var f=e+4+c*n;c!=a&&0!=o[f>>u]||(s=r(s,f-s),void 0===t?t=s:(t+=String.fromCharCode(0),t+=s),s=f+n)}return mn(e),t},toWireType:function(e,r){"string"!=typeof r&&Te("Cannot pass non-string to C++ string type "+t);var i=o(r),s=yn(4+i+n);return R[s>>2]=i>>u,a(r,s+4,i+n),null!==e&&e.push(mn,s),s},argPackAdvance:8,readValueFromPointer:se,V:function(e){mn(e)}})},m:function(e,n,t,r,a,o){ie[e]={name:be(n),ia:Ye(t,r),X:Ye(a,o),la:[]}},e:function(e,n,t,r,a,o,i,u,s,c){ie[e].la.push({pa:be(n),ua:t,sa:Ye(r,a),ta:o,Ha:i,Ga:Ye(u,s),Ia:c})},z:function(e,n){Pe(e,{xa:!0,name:n=be(n),argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},n:function(e,n,t,r){(e=on[e])(n=un(n),t=an(t),null,r)},f:Je,p:function(e){return 0===e?Ke(sn()):(e=an(e),Ke(sn()[e]))},o:function(e,n){for(var t=(n=function(e,n){for(var t=Array(e),r=0;r<e;++r)t[r]=cn(W[(n>>2)+r],"parameter "+r);return t}(e,n))[0],r=t.name+"_$"+n.slice(1).map((function(e){return e.name})).join("_")+"$",a=["retType"],o=[t],i="",u=0;u<e-1;++u)i+=(0!==u?", ":"")+"arg"+u,a.push("argType"+u),o.push(n[1+u]);r="return function "+pe("methodCaller_"+r)+"(handle, name, destructors, args) {\n";var s=0;for(u=0;u<e-1;++u)r+="    var arg"+u+" = argType"+u+".readValueFromPointer(args"+(s?"+"+s:"")+");\n",s+=n[u+1].argPackAdvance;for(r+="    var rv = handle[name]("+i+");\n",u=0;u<e-1;++u)n[u+1].deleteObject&&(r+="    argType"+u+".deleteObject(arg"+u+");\n");return t.xa||(r+="    return retType.toWireType(destructors, rv);\n"),a.push(r+"};\n"),function(e){var n=on.length;return on.push(e),n}(e=Xe(a).apply(null,o))},h:function(e){4<e&&(Ze[e].ja+=1)},D:function(e,t,r,a){e=un(e);var o=fn[t];if(!o){o="";for(var i=0;i<t;++i)o+=(0!==i?", ":"")+"arg"+i;var u="return function emval_allocator_"+t+"(constructor, argTypes, args) {\n";for(i=0;i<t;++i)u+="var argType"+i+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+i+'], "parameter '+i+'");\nvar arg'+i+" = argType"+i+".readValueFromPointer(args);\nargs += argType"+i+"['argPackAdvance'];\n";o=new Function("requireRegisteredType","Module","__emval_register",u+"var obj = new constructor("+o+");\nreturn __emval_register(obj);\n}\n")(cn,n,Ke),fn[t]=o}return o(e,r,a)},C:function(){return Ke([])},q:function(e,n){return Ke(e=(e=cn(e,"_emval_take_value")).readValueFromPointer(n))},a:function(){J()},v:function(e,n,t){E.copyWithin(e,n,n+t)},w:function(e){var n=E.length;if(2147483648<(e>>>=0))return!1;for(var t=1;4>=t;t*=2){var r=n*(1+.2/t);r=Math.min(r,e+100663296),0<(r=Math.max(e,r))%65536&&(r+=65536-r%65536);e:{try{_.grow(Math.min(2147483648,r)-O.byteLength+65535>>>16),z();var a=1;break e}catch(e){}a=void 0}if(a)return!0}return!1},j:function(e,n,t,r){for(var a=0,o=0;o<t;o++){for(var i=W[n+8*o>>2],u=W[n+(8*o+4)>>2],s=0;s<u;s++){var c=E[i+s],f=ln[e];0===c||10===c?((1===e?w:b)(C(f,0)),f.length=0):f.push(c)}a+=u}return W[r>>2]=a,0},u:function(){}};!function(){function e(e){n.asm=e.exports,_=n.asm.F,z(),B=n.asm.I,$.unshift(n.asm.G),X--,n.monitorRunDependencies&&n.monitorRunDependencies(X),0==X&&(null!==Q&&(clearInterval(Q),Q=null),Z&&(e=Z,Z=null,e()))}function t(n){e(n.instance)}function r(e){return function(){if(!g&&(u||s)){if("function"==typeof fetch&&!K("file://"))return fetch(ne,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ne+"'";return e.arrayBuffer()})).catch((function(){return re()}));if(h)return new Promise((function(e,n){h(ne,(function(n){e(new Uint8Array(n))}),n)}))}return Promise.resolve().then((function(){return re()}))}().then((function(e){return WebAssembly.instantiate(e,a)})).then(e,(function(e){b("failed to asynchronously prepare wasm: "+e),J(e)}))}var a={a:dn};if(X++,n.monitorRunDependencies&&n.monitorRunDependencies(X),n.instantiateWasm)try{return n.instantiateWasm(a,e)}catch(e){return b("Module.instantiateWasm callback failed with error: "+e),!1}(g||"function"!=typeof WebAssembly.instantiateStreaming||ee()||K("file://")||"function"!=typeof fetch?r(t):fetch(ne,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,a).then(t,(function(e){return b("wasm streaming compile failed: "+e),b("falling back to ArrayBuffer instantiation"),r(t)}))}))).catch(o)}(),n.___wasm_call_ctors=function(){return(n.___wasm_call_ctors=n.asm.G).apply(null,arguments)};var vn,yn=n._malloc=function(){return(yn=n._malloc=n.asm.H).apply(null,arguments)},mn=n._free=function(){return(mn=n._free=n.asm.J).apply(null,arguments)},gn=n.___getTypeName=function(){return(gn=n.___getTypeName=n.asm.K).apply(null,arguments)};function wn(){function e(){if(!vn&&(vn=!0,n.calledRun=!0,!T)){if(ae($),ae(H),a(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),n.postRun)for("function"==typeof n.postRun&&(n.postRun=[n.postRun]);n.postRun.length;){var e=n.postRun.shift();L.unshift(e)}ae(L)}}if(!(0<X)){if(n.preRun)for("function"==typeof n.preRun&&(n.preRun=[n.preRun]);n.preRun.length;)G();ae(Y),0<X||(n.setStatus?(n.setStatus("Running..."),setTimeout((function(){setTimeout((function(){n.setStatus("")}),1),e()}),1)):e())}}if(n.___embind_register_native_and_builtin_types=function(){return(n.___embind_register_native_and_builtin_types=n.asm.L).apply(null,arguments)},n.dynCall_jiji=function(){return(n.dynCall_jiji=n.asm.M).apply(null,arguments)},Z=function e(){vn||wn(),vn||(Z=e)},n.run=wn,n.preInit)for("function"==typeof n.preInit&&(n.preInit=[n.preInit]);0<n.preInit.length;)n.preInit.pop()();return wn(),e.ready});e.exports=a},3219:(e,n,t)=>{"use strict";e.exports=t.p+"diff.9895d.wasm"},3934:(e,n,t)=>{"use strict";var r={};t.r(r),t.d(r,{ColorSpace:()=>P,Quantization:()=>A,defaultOptions:()=>C,encode:()=>O});var a={};t.r(a),t.d(a,{decode:()=>k,defaultOptions:()=>S,encode:()=>E});var o={};t.r(o),t.d(o,{decode:()=>j,defaultOptions:()=>W,encode:()=>R});var i={};t.r(i),t.d(i,{AVIFTune:()=>x,Subsampling:()=>U,decode:()=>V,defaultOptions:()=>I,encode:()=>F});var u={};t.r(u),t.d(u,{Csp:()=>D,UVMode:()=>M,decode:()=>B,defaultOptions:()=>q,encode:()=>z});var s=t(9158),c=t(9650),f=t.n(c),l=t(8059),p=t.n(l);const h={hfAsymmetry:1,goodQualitySeek:1.5,badQualitySeek:.5};let d,v;function y(e){if(d)return d;const n=e?f()({locateFile:()=>e}):f()();return d=n.then((e=>{v=e}))}function m(e,n){const t=e.data.byteLength,r=n.data.byteLength;if(t!==r)throw new Error(`Image data have different length ${t} vs. ${r}`);const a=t/e.width/e.height;if(3!==a&&4!==a)throw new Error("Image must be RGB or RGBA in colors");if(e.width!==n.width)throw new Error(`Image have different width ${e.width} vs. ${n.width}`);if(e.height!==n.height)throw new Error(`Image have different width ${e.height} vs. ${n.height}`)}class g{native;reference;constructor(e){this.reference=e,this.native=new v.ButteraugliDiff(e)}close(){this.native.delete()}diff(e,n){if(!d)throw new Error("Wasm module not load");m(this.reference,e);const t={...h,...n};if(t.badQualitySeek<0||t.badQualitySeek>=2)throw new Error("badQualitySeek must between 0, 2");if(t.goodQualitySeek<0||t.goodQualitySeek>=2)throw new Error("goodQualitySeek must between 0, 2");return this.native.Diff(e.data,t)}}var w=t(3219);function b(e){return e({noInitialRun:!0})}function _(e){let n;return async(t,r)=>{const{data:a,width:o,height:i}=t;n||(n=e());const u=(await n).encode(a,o,i,r);if(!u)throw new Error("Encoding error");return s.re(u.buffer,[u.buffer])}}function T(e){let n;return async t=>{n||(n=e());const r=(await n).decode(t);if(!r)throw new Error("Decoding error");return s.re(r,[r.data.buffer])}}t(4637);const P={GRAYSCALE:1,RGB:2,YCbCr:3},A={"JPEG Annex K":0,Flat:1,"MSSIM-tuned Kodak":2,ImageMagick:3,"PSNR-HVS-M-tuned Kodak":4,"Klein et al":5,"Watson et al":6,"Ahumada et al":7,"Peterson et al":8},C={quality:75,baseline:!1,arithmetic:!1,progressive:!0,optimize_coding:!0,smoothing:0,color_space:P.YCbCr,quant_table:A.ImageMagick,trellis_multipass:!1,trellis_opt_zero:!1,trellis_opt_table:!1,trellis_loops:1,auto_subsample:!0,chroma_subsample:2,separate_chroma_quality:!1,chroma_quality:75},O=_((async()=>b((await t.e(85).then(t.bind(t,3085))).default))),S={speed:4,quality:75,progressive:!1,epf:-1,nearLossless:0,lossyPalette:!1,decodingSpeedTier:0},E=_((async()=>b((await t.e(135).then(t.bind(t,8135))).default))),k=T((async()=>b((await t.e(267).then(t.bind(t,8267))).default)));var N=t(5173);const W={quality:75,target_size:0,target_PSNR:0,method:4,sns_strength:50,filter_strength:60,filter_sharpness:0,filter_type:1,partitions:0,segments:4,pass:1,show_compressed:0,preprocessing:0,autofilter:0,partition_limit:0,alpha_compression:1,alpha_filtering:1,alpha_quality:100,lossless:0,exact:0,image_hint:0,emulate_jpeg_size:0,thread_level:0,low_memory:0,near_lossless:100,use_delta_palette:0,use_sharp_yuv:0},R=_((async()=>await(0,N.h4)()?b((await t.e(894).then(t.bind(t,3894))).default):b((await t.e(59).then(t.bind(t,9059))).default))),j=T((async()=>b((await t.e(3).then(t.bind(t,2003))).default))),U={YUV400:0,YUV420:1,YUV422:2,YUV444:3},x={auto:0,psnr:1,ssim:3},I={cqLevel:33,cqAlphaLevel:-1,denoiseLevel:0,tileColsLog2:0,tileRowsLog2:0,speed:6,subsample:U.YUV420,chromaDeltaQ:!1,sharpness:0,tune:x.auto},F=_((async()=>b((await t.e(762).then(t.bind(t,8762))).default))),V=T((async()=>b((await t.e(832).then(t.bind(t,9832))).default))),M={Adapt:0,420:1,444:2,Auto:3},D={YCoCg:0,YCbCr:1,Custom:2,YIQ:3},q={quality:75,alpha_quality:75,effort:5,pass:1,sns:50,uv_mode:M.Adapt,csp_type:D.YCoCg,error_diffusion:0,use_random_matrix:!1},z=_((async()=>b((await t.e(939).then(t.bind(t,3939))).default))),B=T((async()=>b((await t.e(26).then(t.bind(t,8026))).default)));let Y,$;function H(e){return async n=>{const t=performance.now();return{buffer:await e.encode(Y,n),time:(performance.now()-t)/1e3}}}const L={setImageToEncode(e){Y=e},mozjpegEncode:H(r),jxlEncode:H(a),webpEncode:H(o),avifEncode:H(i),webp2Encode:H(u),jxlDecode:k,webpDecode:j,avifDecode:V,webp2Decode:B,calcSSIM:async(e,n)=>(await y(w),function(e,n,t){return p()(e,n,t).mssim}(Y,e,n)),calcPSNR:async e=>(await y(w),function(e,n){if(!v)throw new Error("Wasm module not loaded");m(e,n);const t=e.data,r=n.data,{length:a}=t;let o=0;for(let e=0;e<a;e++){const n=t[e]-r[e];o+=n*n}return 10*Math.log10(65025/o*a)}(Y,e)),async calcButteraugli(e,n){await y(w),$||($=new g(Y));const[t,r]=$.diff(e,n);return{score:t,heatMap:s.re(r,[r.buffer])}}};s.Jj(L)},2203:()=>{},5783:()=>{}},r={};function a(e){var n=r[e];if(void 0!==n)return n.exports;var o=r[e]={exports:{}};return t[e](o,o.exports,a),o.exports}a.m=t,a.x=()=>{var e=a.O(void 0,[982],(()=>a(3934)));return a.O(e)},e=[],a.O=(n,t,r,o)=>{if(!t){var i=1/0;for(c=0;c<e.length;c++){for(var[t,r,o]=e[c],u=!0,s=0;s<t.length;s++)(!1&o||i>=o)&&Object.keys(a.O).every((e=>a.O[e](t[s])))?t.splice(s--,1):(u=!1,o<i&&(i=o));u&&(e.splice(c--,1),n=r())}return n}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[t,r,o]},a.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return a.d(n,{a:n}),n},a.d=(e,n)=>{for(var t in n)a.o(n,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((n,t)=>(a.f[t](e,n),n)),[])),a.u=e=>e+".js",a.miniCssF=e=>{},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var n=a.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var t=n.getElementsByTagName("script");t.length&&(e=t[t.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{a.b=self.location+"";var e={934:1};a.f.i=(n,t)=>{e[n]||importScripts(a.p+a.u(n))};var n=self.webpackChunkic_analyzer=self.webpackChunkic_analyzer||[],t=n.push.bind(n);n.push=n=>{var[r,o,i]=n;for(var u in o)a.o(o,u)&&(a.m[u]=o[u]);for(i&&i(a);r.length;)e[r.pop()]=1;t(n)}})(),n=a.x,a.x=()=>a.e(982).then(n),a.x()})();
//# sourceMappingURL=934.js.map