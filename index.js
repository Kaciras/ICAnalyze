(()=>{var e={5564:(e,n,t)=>{"use strict";e.exports=t.p+"demo-large-photo.b8cae.jpg"},6314:(e,n,t)=>{"use strict";e.exports=t.p+"icon-demo-large-photo.464fc.jpg"},9650:(e,n,t)=>{var r,i=(r=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){var n,i,a;e=e||{},n||(n=void 0!==e?e:{}),n.ready=new Promise((function(e,n){i=e,a=n}));var o,s,c,u,l,d={};for(o in n)n.hasOwnProperty(o)&&(d[o]=n[o]);s="object"==typeof window,c="function"==typeof importScripts,u="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,l=!s&&!u&&!c;var f,h,p,v,m="";u?(m=c?t(1386).dirname(m)+"/":"//",f=function(e,n){return p||(p=t(2993)),v||(v=t(1386)),e=v.normalize(e),p.readFileSync(e,n?null:"utf8")},h=function(e){return(e=f(e,!0)).buffer||(e=new Uint8Array(e)),x(e.buffer),e},1<process.argv.length&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",(function(e){throw e})),process.on("unhandledRejection",$),n.inspect=function(){return"[Emscripten Module object]"}):l?("undefined"!=typeof read&&(f=function(e){return read(e)}),h=function(e){return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(x("object"==typeof(e=read(e,"binary"))),e)},"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(s||c)&&(c?m=self.location.href:"undefined"!=typeof document&&document.currentScript&&(m=document.currentScript.src),r&&(m=r),m=0!==m.indexOf("blob:")?m.substr(0,m.lastIndexOf("/")+1):"",f=function(e){var n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(null),n.responseText},c&&(h=function(e){var n=new XMLHttpRequest;return n.open("GET",e,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}));var g,y=n.print||console.log.bind(console),b=n.printErr||console.warn.bind(console);for(o in d)d.hasOwnProperty(o)&&(n[o]=d[o]);d=null,n.wasmBinary&&(g=n.wasmBinary),n.noExitRuntime&&n.noExitRuntime,"object"!=typeof WebAssembly&&$("no native wasm support detected");var A,w=!1;function x(e,n){e||$("Assertion failed: "+n)}var j="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function O(e,n,t){var r=n+t;for(t=n;e[t]&&!(t>=r);)++t;if(16<t-n&&e.subarray&&j)return j.decode(e.subarray(n,t));for(r="";n<t;){var i=e[n++];if(128&i){var a=63&e[n++];if(192==(224&i))r+=String.fromCharCode((31&i)<<6|a);else{var o=63&e[n++];65536>(i=224==(240&i)?(15&i)<<12|a<<6|o:(7&i)<<18|a<<12|o<<6|63&e[n++])?r+=String.fromCharCode(i):(i-=65536,r+=String.fromCharCode(55296|i>>10,56320|1023&i))}}else r+=String.fromCharCode(i)}return r}var C,N,_,S,E,T,P,k,I,R="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function F(e,n){for(var t=e>>1,r=t+n/2;!(t>=r)&&E[t];)++t;if(32<(t<<=1)-e&&R)return R.decode(_.subarray(e,t));for(t="",r=0;!(r>=n/2);++r){var i=S[e+2*r>>1];if(0==i)break;t+=String.fromCharCode(i)}return t}function B(e,n,t){if(void 0===t&&(t=2147483647),2>t)return 0;var r=n;t=(t-=2)<2*e.length?t/2:e.length;for(var i=0;i<t;++i)S[n>>1]=e.charCodeAt(i),n+=2;return S[n>>1]=0,n-r}function W(e){return 2*e.length}function U(e,n){for(var t=0,r="";!(t>=n/4);){var i=T[e+4*t>>2];if(0==i)break;++t,65536<=i?(i-=65536,r+=String.fromCharCode(55296|i>>10,56320|1023&i)):r+=String.fromCharCode(i)}return r}function M(e,n,t){if(void 0===t&&(t=2147483647),4>t)return 0;var r=n;t=r+t-4;for(var i=0;i<e.length;++i){var a=e.charCodeAt(i);if(55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++i)),T[n>>2]=a,(n+=4)+4>t)break}return T[n>>2]=0,n-r}function V(e){for(var n=0,t=0;t<e.length;++t){var r=e.charCodeAt(t);55296<=r&&57343>=r&&++t,n+=4}return n}function D(){var e=A.buffer;C=e,n.HEAP8=N=new Int8Array(e),n.HEAP16=S=new Int16Array(e),n.HEAP32=T=new Int32Array(e),n.HEAPU8=_=new Uint8Array(e),n.HEAPU16=E=new Uint16Array(e),n.HEAPU32=P=new Uint32Array(e),n.HEAPF32=k=new Float32Array(e),n.HEAPF64=I=new Float64Array(e)}var z,L=[],H=[],Y=[],Z=[];function G(){var e=n.preRun.shift();L.unshift(e)}var X=0,Q=null,q=null;function $(e){throw n.onAbort&&n.onAbort(e),b(e),w=!0,e=new WebAssembly.RuntimeError("abort("+e+"). Build with -s ASSERTIONS=1 for more info."),a(e),e}function K(e){var n=ee;return String.prototype.startsWith?n.startsWith(e):0===n.indexOf(e)}function J(){return K("data:application/octet-stream;base64,")}n.preloadedImages={},n.preloadedAudios={};var ee="diff.wasm";if(!J()){var ne=ee;ee=n.locateFile?n.locateFile(ne,m):m+ne}function te(){var e=ee;try{if(e==ee&&g)return new Uint8Array(g);if(h)return h(e);throw"both async and sync fetching of the wasm failed"}catch(e){$(e)}}function re(e){for(;0<e.length;){var t=e.shift();if("function"==typeof t)t(n);else{var r=t.qa;"number"==typeof r?void 0===t.ga?z.get(r)():z.get(r)(t.ga):r(void 0===t.ga?null:t.ga)}}}function ie(e){this.O=e-16,this.Ga=function(e){T[this.O+8>>2]=e},this.Da=function(e){T[this.O+0>>2]=e},this.Ea=function(){T[this.O+4>>2]=0},this.Ca=function(){N[this.O+12>>0]=0},this.Fa=function(){N[this.O+13>>0]=0},this.xa=function(e,n){this.Ga(e),this.Da(n),this.Ea(),this.Ca(),this.Fa()}}var ae={};function oe(e){for(;e.length;){var n=e.pop();e.pop()(n)}}function se(e){return this.fromWireType(P[e>>2])}var ce={},ue={},le={};function de(e){if(void 0===e)return"_unknown";var n=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return 48<=n&&57>=n?"_"+e:e}function fe(e,n){return e=de(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(n)}function he(e){var n=Error,t=fe(e,(function(n){this.name=e,this.message=n,void 0!==(n=Error(n).stack)&&(this.stack=this.toString()+"\n"+n.replace(/^Error(:[^\n]*)?\n/,""))}));return t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},t}var pe=void 0;function ve(e){throw new pe(e)}function me(e,n,t){function r(n){(n=t(n)).length!==e.length&&ve("Mismatched type converter count");for(var r=0;r<e.length;++r)xe(e[r],n[r])}e.forEach((function(e){le[e]=n}));var i=Array(n.length),a=[],o=0;n.forEach((function(e,n){ue.hasOwnProperty(e)?i[n]=ue[e]:(a.push(e),ce.hasOwnProperty(e)||(ce[e]=[]),ce[e].push((function(){i[n]=ue[e],++o===a.length&&r(i)})))})),0===a.length&&r(i)}function ge(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}var ye=void 0;function be(e){for(var n="";_[e];)n+=ye[_[e++]];return n}var Ae=void 0;function we(e){throw new Ae(e)}function xe(e,n,t){if(t=t||{},!("argPackAdvance"in n))throw new TypeError("registerType registeredInstance requires argPackAdvance");var r=n.name;if(e||we('type "'+r+'" must have a positive integer typeid pointer'),ue.hasOwnProperty(e)){if(t.wa)return;we("Cannot register type '"+r+"' twice")}ue[e]=n,delete le[e],ce.hasOwnProperty(e)&&(n=ce[e],delete ce[e],n.forEach((function(e){e()})))}function je(e){return{count:e.count,Z:e.Z,aa:e.aa,O:e.O,R:e.R,S:e.S,T:e.T}}function Oe(e){we(e.N.R.P.name+" instance already deleted")}var Ce=!1;function Ne(){}function _e(e){--e.count.value,0===e.count.value&&(e.S?e.T.X(e.S):e.R.P.X(e.O))}function Se(e){return"undefined"==typeof FinalizationGroup?(Se=function(e){return e},e):(Ce=new FinalizationGroup((function(e){for(var n=e.next();!n.done;n=e.next())(n=n.value).O?_e(n):console.warn("object already deleted: "+n.O)})),Ne=function(e){Ce.unregister(e.N)},(Se=function(e){return Ce.register(e,e.N,e.N),e})(e))}var Ee=void 0,Te=[];function Pe(){for(;Te.length;){var e=Te.pop();e.N.Z=!1,e.delete()}}function ke(){}var Ie={};function Re(e,n,t){if(void 0===e[n].W){var r=e[n];e[n]=function(){return e[n].W.hasOwnProperty(arguments.length)||we("Function '"+t+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[n].W+")!"),e[n].W[arguments.length].apply(this,arguments)},e[n].W=[],e[n].W[r.da]=r}}function Fe(e,n,t,r,i,a,o,s){this.name=e,this.constructor=n,this.$=t,this.X=r,this.U=i,this.ra=a,this.ba=o,this.oa=s,this.Aa=[]}function Be(e,n,t){for(;n!==t;)n.ba||we("Expected null or instance of "+t.name+", got an instance of "+n.name),e=n.ba(e),n=n.U;return e}function We(e,n){return null===n?(this.ha&&we("null is not a valid "+this.name),0):(n.N||we('Cannot pass "'+en(n)+'" as a '+this.name),n.N.O||we("Cannot pass deleted object as a pointer of type "+this.name),Be(n.N.O,n.N.R.P,this.P))}function Ue(e,n){if(null===n){if(this.ha&&we("null is not a valid "+this.name),this.fa){var t=this.ia();return null!==e&&e.push(this.X,t),t}return 0}if(n.N||we('Cannot pass "'+en(n)+'" as a '+this.name),n.N.O||we("Cannot pass deleted object as a pointer of type "+this.name),!this.ea&&n.N.R.ea&&we("Cannot convert argument of type "+(n.N.T?n.N.T.name:n.N.R.name)+" to parameter type "+this.name),t=Be(n.N.O,n.N.R.P,this.P),this.fa)switch(void 0===n.N.S&&we("Passing raw pointer to smart pointer is illegal"),this.Ka){case 0:n.N.T===this?t=n.N.S:we("Cannot convert argument of type "+(n.N.T?n.N.T.name:n.N.R.name)+" to parameter type "+this.name);break;case 1:t=n.N.S;break;case 2:if(n.N.T===this)t=n.N.S;else{var r=n.clone();t=this.Ba(t,Je((function(){r.delete()}))),null!==e&&e.push(this.X,t)}break;default:we("Unsupporting sharing policy")}return t}function Me(e,n){return null===n?(this.ha&&we("null is not a valid "+this.name),0):(n.N||we('Cannot pass "'+en(n)+'" as a '+this.name),n.N.O||we("Cannot pass deleted object as a pointer of type "+this.name),n.N.R.ea&&we("Cannot convert argument of type "+n.N.R.name+" to parameter type "+this.name),Be(n.N.O,n.N.R.P,this.P))}function Ve(e,n,t){return n===t?e:void 0===t.U||null===(e=Ve(e,n,t.U))?null:t.oa(e)}var De={};function ze(e,n){return n.R&&n.O||ve("makeClassHandle requires ptr and ptrType"),!!n.T!=!!n.S&&ve("Both smartPtrType and smartPtr must be specified"),n.count={value:1},Se(Object.create(e,{N:{value:n}}))}function Le(e,n,t,r){this.name=e,this.P=n,this.ha=t,this.ea=r,this.fa=!1,this.X=this.Ba=this.ia=this.ma=this.Ka=this.za=void 0,void 0!==n.U?this.toWireType=Ue:(this.toWireType=r?We:Me,this.V=null)}function He(e,t){var r=-1!=(e=be(e)).indexOf("j")?function(e,t){x(0<=e.indexOf("j"),"getDynCaller should only be called with i64 sigs");var r=[];return function(){r.length=arguments.length;for(var i=0;i<arguments.length;i++)r[i]=arguments[i];return-1!=e.indexOf("j")?r&&r.length?n["dynCall_"+e].apply(null,[t].concat(r)):n["dynCall_"+e].call(null,t):z.get(t).apply(null,r)}}(e,t):z.get(t);return"function"!=typeof r&&we("unknown function pointer with signature "+e+": "+t),r}var Ye=void 0;function Ze(e){var n=be(e=bn(e));return yn(e),n}function Ge(e,n){var t=[],r={};throw n.forEach((function e(n){r[n]||ue[n]||(le[n]?le[n].forEach(e):(t.push(n),r[n]=!0))})),new Ye(e+": "+t.map(Ze).join([", "]))}function Xe(e,n){for(var t=[],r=0;r<e;r++)t.push(T[(n>>2)+r]);return t}function Qe(e){var n=Function;if(!(n instanceof Function))throw new TypeError("new_ called with constructor type "+typeof n+" which is not a function");var t=fe(n.name||"unknownFunctionName",(function(){}));return t.prototype=n.prototype,t=new t,(e=n.apply(t,e))instanceof Object?e:t}var qe=[],$e=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Ke(e){4<e&&0==--$e[e].ja&&($e[e]=void 0,qe.push(e))}function Je(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var n=qe.length?qe.pop():$e.length;return $e[n]={ja:1,value:e},n}}function en(e){if(null===e)return"null";var n=typeof e;return"object"===n||"array"===n||"function"===n?e.toString():""+e}function nn(e,n){switch(n){case 2:return function(e){return this.fromWireType(k[e>>2])};case 3:return function(e){return this.fromWireType(I[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function tn(e,n,t){switch(n){case 0:return t?function(e){return N[e]}:function(e){return _[e]};case 1:return t?function(e){return S[e>>1]}:function(e){return E[e>>1]};case 2:return t?function(e){return T[e>>2]}:function(e){return P[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}var rn={};function an(e){var n=rn[e];return void 0===n?be(e):n}var on=[];function sn(e){return e||we("Cannot use deleted val. handle = "+e),$e[e].value}function cn(){return"object"==typeof globalThis?globalThis:Function("return this")()}function un(e,n){var t=ue[e];return void 0===t&&we(n+" has unknown type "+Ze(e)),t}var ln={},dn=[null,[],[]];pe=n.InternalError=he("InternalError");for(var fn=Array(256),hn=0;256>hn;++hn)fn[hn]=String.fromCharCode(hn);ye=fn,Ae=n.BindingError=he("BindingError"),ke.prototype.isAliasOf=function(e){if(!(this instanceof ke&&e instanceof ke))return!1;var n=this.N.R.P,t=this.N.O,r=e.N.R.P;for(e=e.N.O;n.U;)t=n.ba(t),n=n.U;for(;r.U;)e=r.ba(e),r=r.U;return n===r&&t===e},ke.prototype.clone=function(){if(this.N.O||Oe(this),this.N.aa)return this.N.count.value+=1,this;var e=Se(Object.create(Object.getPrototypeOf(this),{N:{value:je(this.N)}}));return e.N.count.value+=1,e.N.Z=!1,e},ke.prototype.delete=function(){this.N.O||Oe(this),this.N.Z&&!this.N.aa&&we("Object already scheduled for deletion"),Ne(this),_e(this.N),this.N.aa||(this.N.S=void 0,this.N.O=void 0)},ke.prototype.isDeleted=function(){return!this.N.O},ke.prototype.deleteLater=function(){return this.N.O||Oe(this),this.N.Z&&!this.N.aa&&we("Object already scheduled for deletion"),Te.push(this),1===Te.length&&Ee&&Ee(Pe),this.N.Z=!0,this},Le.prototype.sa=function(e){return this.ma&&(e=this.ma(e)),e},Le.prototype.ka=function(e){this.X&&this.X(e)},Le.prototype.argPackAdvance=8,Le.prototype.readValueFromPointer=se,Le.prototype.deleteObject=function(e){null!==e&&e.delete()},Le.prototype.fromWireType=function(e){function n(){return this.fa?ze(this.P.$,{R:this.za,O:t,T:this,S:e}):ze(this.P.$,{R:this,O:e})}var t=this.sa(e);if(!t)return this.ka(e),null;var r=function(e,n){for(void 0===n&&we("ptr should not be undefined");e.U;)n=e.ba(n),e=e.U;return De[n]}(this.P,t);if(void 0!==r)return 0===r.N.count.value?(r.N.O=t,r.N.S=e,r.clone()):(r=r.clone(),this.ka(e),r);if(r=this.P.ra(t),!(r=Ie[r]))return n.call(this);r=this.ea?r.na:r.pointerType;var i=Ve(t,this.P,r.P);return null===i?n.call(this):this.fa?ze(r.P.$,{R:r,O:i,T:this,S:e}):ze(r.P.$,{R:r,O:i})},n.getInheritedInstanceCount=function(){return Object.keys(De).length},n.getLiveInheritedInstances=function(){var e,n=[];for(e in De)De.hasOwnProperty(e)&&n.push(De[e]);return n},n.flushPendingDeletes=Pe,n.setDelayFunction=function(e){Ee=e,Te.length&&Ee&&Ee(Pe)},Ye=n.UnboundTypeError=he("UnboundTypeError"),n.count_emval_handles=function(){for(var e=0,n=5;n<$e.length;++n)void 0!==$e[n]&&++e;return e},n.get_first_emval=function(){for(var e=5;e<$e.length;++e)if(void 0!==$e[e])return $e[e];return null},H.push({qa:function(){mn()}});var pn={b:function(e,n,t,r){$("Assertion failed: "+(e?O(_,e,void 0):"")+", at: "+[n?n?O(_,n,void 0):"":"unknown filename",t,r?r?O(_,r,void 0):"":"unknown function"])},B:function(e){return gn(e+16)+16},E:function(){},A:function(e,n,t){throw new ie(e).xa(n,t),e},i:function(e){var n=ae[e];delete ae[e];var t=n.ia,r=n.X,i=n.la;me([e],i.map((function(e){return e.va})).concat(i.map((function(e){return e.Ia}))),(function(e){var a={};return i.forEach((function(n,t){var r=e[t],o=n.ta,s=n.ua,c=e[t+i.length],u=n.Ha,l=n.Ja;a[n.pa]={read:function(e){return r.fromWireType(o(s,e))},write:function(e,n){var t=[];u(l,e,c.toWireType(t,n)),oe(t)}}})),[{name:n.name,fromWireType:function(e){var n,t={};for(n in a)t[n]=a[n].read(e);return r(e),t},toWireType:function(e,n){for(var i in a)if(!(i in n))throw new TypeError('Missing field:  "'+i+'"');var o=t();for(i in a)a[i].write(o,n[i]);return null!==e&&e.push(r,o),o},argPackAdvance:8,readValueFromPointer:se,V:r}]}))},y:function(e,n,t,r,i){var a=ge(t);xe(e,{name:n=be(n),fromWireType:function(e){return!!e},toWireType:function(e,n){return n?r:i},argPackAdvance:8,readValueFromPointer:function(e){if(1===t)var r=N;else if(2===t)r=S;else{if(4!==t)throw new TypeError("Unknown boolean type size: "+n);r=T}return this.fromWireType(r[e>>a])},V:null})},t:function(e,t,r,i,a,o,s,c,u,l,d,f,h){d=be(d),o=He(a,o),c&&(c=He(s,c)),l&&(l=He(u,l)),h=He(f,h);var p=de(d);!function(e,t){n.hasOwnProperty(e)?(we("Cannot register public name '"+e+"' twice"),Re(n,e,e),n.hasOwnProperty(void 0)&&we("Cannot register multiple overloads of a function with the same number of arguments (undefined)!"),n[e].W[void 0]=t):n[e]=t}(p,(function(){Ge("Cannot construct "+d+" due to unbound types",[i])})),me([e,t,r],i?[i]:[],(function(t){if(t=t[0],i)var r=t.P,a=r.$;else a=ke.prototype;t=fe(p,(function(){if(Object.getPrototypeOf(this)!==s)throw new Ae("Use 'new' to construct "+d);if(void 0===u.Y)throw new Ae(d+" has no accessible constructor");var e=u.Y[arguments.length];if(void 0===e)throw new Ae("Tried to invoke ctor of "+d+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(u.Y).toString()+") parameters instead!");return e.apply(this,arguments)}));var s=Object.create(a,{constructor:{value:t}});t.prototype=s;var u=new Fe(d,t,s,h,r,o,c,l);r=new Le(d,u,!0,!1),a=new Le(d+"*",u,!1,!1);var f=new Le(d+" const*",u,!1,!0);return Ie[e]={pointerType:a,na:f},function(e,t){n.hasOwnProperty(e)||ve("Replacing nonexistant public symbol"),n[e]=t,n[e].da=void 0}(p,t),[r,a,f]}))},s:function(e,n,t,r,i,a){x(0<n);var o=Xe(n,t);i=He(r,i);var s=[a],c=[];me([],[e],(function(e){var t="constructor "+(e=e[0]).name;if(void 0===e.P.Y&&(e.P.Y=[]),void 0!==e.P.Y[n-1])throw new Ae("Cannot register multiple constructors with identical number of parameters ("+(n-1)+") for class '"+e.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return e.P.Y[n-1]=function(){Ge("Cannot construct "+e.name+" due to unbound types",o)},me([],o,(function(r){return e.P.Y[n-1]=function(){arguments.length!==n-1&&we(t+" called with "+arguments.length+" arguments, expected "+(n-1)),c.length=0,s.length=n;for(var e=1;e<n;++e)s[e]=r[e].toWireType(c,arguments[e-1]);return e=i.apply(null,s),oe(c),r[0].fromWireType(e)},[]})),[]}))},r:function(e,n,t,r,i,a,o,s){var c=Xe(t,r);n=be(n),a=He(i,a),me([],[e],(function(e){function r(){Ge("Cannot call "+i+" due to unbound types",c)}var i=(e=e[0]).name+"."+n;s&&e.P.Aa.push(n);var u=e.P.$,l=u[n];return void 0===l||void 0===l.W&&l.className!==e.name&&l.da===t-2?(r.da=t-2,r.className=e.name,u[n]=r):(Re(u,n,i),u[n].W[t-2]=r),me([],c,(function(r){var s=i,c=e,l=a,d=r.length;2>d&&we("argTypes array size mismatch! Must at least get return value and 'this' types!");var f=null!==r[1]&&null!==c,h=!1;for(c=1;c<r.length;++c)if(null!==r[c]&&void 0===r[c].V){h=!0;break}var p="void"!==r[0].name,v="",m="";for(c=0;c<d-2;++c)v+=(0!==c?", ":"")+"arg"+c,m+=(0!==c?", ":"")+"arg"+c+"Wired";s="return function "+de(s)+"("+v+") {\nif (arguments.length !== "+(d-2)+") {\nthrowBindingError('function "+s+" called with ' + arguments.length + ' arguments, expected "+(d-2)+" args!');\n}\n",h&&(s+="var destructors = [];\n");var g=h?"destructors":"null";for(v="throwBindingError invoker fn runDestructors retType classParam".split(" "),l=[we,l,o,oe,r[0],r[1]],f&&(s+="var thisWired = classParam.toWireType("+g+", this);\n"),c=0;c<d-2;++c)s+="var arg"+c+"Wired = argType"+c+".toWireType("+g+", arg"+c+"); // "+r[c+2].name+"\n",v.push("argType"+c),l.push(r[c+2]);if(f&&(m="thisWired"+(0<m.length?", ":"")+m),s+=(p?"var rv = ":"")+"invoker(fn"+(0<m.length?", ":"")+m+");\n",h)s+="runDestructors(destructors);\n";else for(c=f?1:2;c<r.length;++c)d=1===c?"thisWired":"arg"+(c-2)+"Wired",null!==r[c].V&&(s+=d+"_dtor("+d+"); // "+r[c].name+"\n",v.push(d+"_dtor"),l.push(r[c].V));return p&&(s+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),v.push(s+"}\n"),r=Qe(v).apply(null,l),void 0===u[n].W?(r.da=t-2,u[n]=r):u[n].W[t-2]=r,[]})),[]}))},x:function(e,n){xe(e,{name:n=be(n),fromWireType:function(e){var n=$e[e].value;return Ke(e),n},toWireType:function(e,n){return Je(n)},argPackAdvance:8,readValueFromPointer:se,V:null})},k:function(e,n,t){t=ge(t),xe(e,{name:n=be(n),fromWireType:function(e){return e},toWireType:function(e,n){if("number"!=typeof n&&"boolean"!=typeof n)throw new TypeError('Cannot convert "'+en(n)+'" to '+this.name);return n},argPackAdvance:8,readValueFromPointer:nn(n,t),V:null})},d:function(e,n,t,r,i){function a(e){return e}n=be(n),-1===i&&(i=4294967295);var o=ge(t);if(0===r){var s=32-8*t;a=function(e){return e<<s>>>s}}var c=-1!=n.indexOf("unsigned");xe(e,{name:n,fromWireType:a,toWireType:function(e,t){if("number"!=typeof t&&"boolean"!=typeof t)throw new TypeError('Cannot convert "'+en(t)+'" to '+this.name);if(t<r||t>i)throw new TypeError('Passing a number "'+en(t)+'" from JS side to C/C++ side to an argument of type "'+n+'", which is outside the valid range ['+r+", "+i+"]!");return c?t>>>0:0|t},argPackAdvance:8,readValueFromPointer:tn(n,o,0!==r),V:null})},c:function(e,n,t){function r(e){var n=P;return new i(C,n[1+(e>>=2)],n[e])}var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][n];xe(e,{name:t=be(t),fromWireType:r,argPackAdvance:8,readValueFromPointer:r},{wa:!0})},l:function(e,n){var t="std::string"===(n=be(n));xe(e,{name:n,fromWireType:function(e){var n=P[e>>2];if(t)for(var r=e+4,i=0;i<=n;++i){var a=e+4+i;if(i==n||0==_[a]){if(r=r?O(_,r,a-r):"",void 0===o)var o=r;else o+=String.fromCharCode(0),o+=r;r=a+1}}else{for(o=Array(n),i=0;i<n;++i)o[i]=String.fromCharCode(_[e+4+i]);o=o.join("")}return yn(e),o},toWireType:function(e,n){n instanceof ArrayBuffer&&(n=new Uint8Array(n));var r="string"==typeof n;r||n instanceof Uint8Array||n instanceof Uint8ClampedArray||n instanceof Int8Array||we("Cannot pass non-string to std::string");var i=(t&&r?function(){for(var e=0,t=0;t<n.length;++t){var r=n.charCodeAt(t);55296<=r&&57343>=r&&(r=65536+((1023&r)<<10)|1023&n.charCodeAt(++t)),127>=r?++e:e=2047>=r?e+2:65535>=r?e+3:e+4}return e}:function(){return n.length})(),a=gn(4+i+1);if(P[a>>2]=i,t&&r)!function(e,n,t){var r=_;if(0<t){t=n+t-1;for(var i=0;i<e.length;++i){var a=e.charCodeAt(i);if(55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++i)),127>=a){if(n>=t)break;r[n++]=a}else{if(2047>=a){if(n+1>=t)break;r[n++]=192|a>>6}else{if(65535>=a){if(n+2>=t)break;r[n++]=224|a>>12}else{if(n+3>=t)break;r[n++]=240|a>>18,r[n++]=128|a>>12&63}r[n++]=128|a>>6&63}r[n++]=128|63&a}}r[n]=0}}(n,a+4,i+1);else if(r)for(r=0;r<i;++r){var o=n.charCodeAt(r);255<o&&(yn(a),we("String has UTF-16 code units that do not fit in 8 bits")),_[a+4+r]=o}else for(r=0;r<i;++r)_[a+4+r]=n[r];return null!==e&&e.push(yn,a),a},argPackAdvance:8,readValueFromPointer:se,V:function(e){yn(e)}})},g:function(e,n,t){if(t=be(t),2===n)var r=F,i=B,a=W,o=function(){return E},s=1;else 4===n&&(r=U,i=M,a=V,o=function(){return P},s=2);xe(e,{name:t,fromWireType:function(e){for(var t,i=P[e>>2],a=o(),c=e+4,u=0;u<=i;++u){var l=e+4+u*n;u!=i&&0!=a[l>>s]||(c=r(c,l-c),void 0===t?t=c:(t+=String.fromCharCode(0),t+=c),c=l+n)}return yn(e),t},toWireType:function(e,r){"string"!=typeof r&&we("Cannot pass non-string to C++ string type "+t);var o=a(r),c=gn(4+o+n);return P[c>>2]=o>>s,i(r,c+4,o+n),null!==e&&e.push(yn,c),c},argPackAdvance:8,readValueFromPointer:se,V:function(e){yn(e)}})},m:function(e,n,t,r,i,a){ae[e]={name:be(n),ia:He(t,r),X:He(i,a),la:[]}},e:function(e,n,t,r,i,a,o,s,c,u){ae[e].la.push({pa:be(n),va:t,ta:He(r,i),ua:a,Ia:o,Ha:He(s,c),Ja:u})},z:function(e,n){xe(e,{ya:!0,name:n=be(n),argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},n:function(e,n,t,r){(e=on[e])(n=sn(n),t=an(t),null,r)},f:Ke,p:function(e){return 0===e?Je(cn()):(e=an(e),Je(cn()[e]))},o:function(e,n){for(var t=(n=function(e,n){for(var t=Array(e),r=0;r<e;++r)t[r]=un(T[(n>>2)+r],"parameter "+r);return t}(e,n))[0],r=t.name+"_$"+n.slice(1).map((function(e){return e.name})).join("_")+"$",i=["retType"],a=[t],o="",s=0;s<e-1;++s)o+=(0!==s?", ":"")+"arg"+s,i.push("argType"+s),a.push(n[1+s]);r="return function "+de("methodCaller_"+r)+"(handle, name, destructors, args) {\n";var c=0;for(s=0;s<e-1;++s)r+="    var arg"+s+" = argType"+s+".readValueFromPointer(args"+(c?"+"+c:"")+");\n",c+=n[s+1].argPackAdvance;for(r+="    var rv = handle[name]("+o+");\n",s=0;s<e-1;++s)n[s+1].deleteObject&&(r+="    argType"+s+".deleteObject(arg"+s+");\n");return t.ya||(r+="    return retType.toWireType(destructors, rv);\n"),i.push(r+"};\n"),function(e){var n=on.length;return on.push(e),n}(e=Qe(i).apply(null,a))},h:function(e){4<e&&($e[e].ja+=1)},D:function(e,t,r,i){e=sn(e);var a=ln[t];if(!a){a="";for(var o=0;o<t;++o)a+=(0!==o?", ":"")+"arg"+o;var s="return function emval_allocator_"+t+"(constructor, argTypes, args) {\n";for(o=0;o<t;++o)s+="var argType"+o+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+o+'], "parameter '+o+'");\nvar arg'+o+" = argType"+o+".readValueFromPointer(args);\nargs += argType"+o+"['argPackAdvance'];\n";a=new Function("requireRegisteredType","Module","__emval_register",s+"var obj = new constructor("+a+");\nreturn __emval_register(obj);\n}\n")(un,n,Je),ln[t]=a}return a(e,r,i)},C:function(){return Je([])},q:function(e,n){return Je(e=(e=un(e,"_emval_take_value")).readValueFromPointer(n))},a:function(){$()},v:function(e,n,t){_.copyWithin(e,n,n+t)},w:function(e){e>>>=0;var n=_.length;if(2147483648<e)return!1;for(var t=1;4>=t;t*=2){var r=n*(1+.2/t);r=Math.min(r,e+100663296),0<(r=Math.max(16777216,e,r))%65536&&(r+=65536-r%65536);e:{try{A.grow(Math.min(2147483648,r)-C.byteLength+65535>>>16),D();var i=1;break e}catch(e){}i=void 0}if(i)return!0}return!1},j:function(e,n,t,r){for(var i=0,a=0;a<t;a++){for(var o=T[n+8*a>>2],s=T[n+(8*a+4)>>2],c=0;c<s;c++){var u=_[o+c],l=dn[e];0===u||10===u?((1===e?y:b)(O(l,0)),l.length=0):l.push(u)}i+=s}return T[r>>2]=i,0},u:function(){}};!function(){function e(e){n.asm=e.exports,A=n.asm.F,D(),z=n.asm.G,X--,n.monitorRunDependencies&&n.monitorRunDependencies(X),0==X&&(null!==Q&&(clearInterval(Q),Q=null),q&&(e=q,q=null,e()))}function t(n){e(n.instance)}function r(e){return(g||!s&&!c||"function"!=typeof fetch||K("file://")?Promise.resolve().then((function(){return te()})):fetch(ee,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ee+"'";return e.arrayBuffer()})).catch((function(){return te()}))).then((function(e){return WebAssembly.instantiate(e,i)})).then(e,(function(e){b("failed to asynchronously prepare wasm: "+e),$(e)}))}var i={a:pn};if(X++,n.monitorRunDependencies&&n.monitorRunDependencies(X),n.instantiateWasm)try{return n.instantiateWasm(i,e)}catch(e){return b("Module.instantiateWasm callback failed with error: "+e),!1}(g||"function"!=typeof WebAssembly.instantiateStreaming||J()||K("file://")||"function"!=typeof fetch?r(t):fetch(ee,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,i).then(t,(function(e){return b("wasm streaming compile failed: "+e),b("falling back to ArrayBuffer instantiation"),r(t)}))}))).catch(a)}();var vn,mn=n.___wasm_call_ctors=function(){return(mn=n.___wasm_call_ctors=n.asm.H).apply(null,arguments)},gn=n._malloc=function(){return(gn=n._malloc=n.asm.I).apply(null,arguments)},yn=n._free=function(){return(yn=n._free=n.asm.J).apply(null,arguments)},bn=n.___getTypeName=function(){return(bn=n.___getTypeName=n.asm.K).apply(null,arguments)};function An(){function e(){if(!vn&&(vn=!0,n.calledRun=!0,!w)){if(re(H),re(Y),i(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),n.postRun)for("function"==typeof n.postRun&&(n.postRun=[n.postRun]);n.postRun.length;){var e=n.postRun.shift();Z.unshift(e)}re(Z)}}if(!(0<X)){if(n.preRun)for("function"==typeof n.preRun&&(n.preRun=[n.preRun]);n.preRun.length;)G();re(L),0<X||(n.setStatus?(n.setStatus("Running..."),setTimeout((function(){setTimeout((function(){n.setStatus("")}),1),e()}),1)):e())}}if(n.___embind_register_native_and_builtin_types=function(){return(n.___embind_register_native_and_builtin_types=n.asm.L).apply(null,arguments)},n.dynCall_jiji=function(){return(n.dynCall_jiji=n.asm.M).apply(null,arguments)},q=function e(){vn||An(),vn||(q=e)},n.run=An,n.preInit)for("function"==typeof n.preInit&&(n.preInit=[n.preInit]);0<n.preInit.length;)n.preInit.pop()();return An(),e.ready});e.exports=i},3454:(e,n,t)=>{"use strict";var r={};t.r(r),t.d(r,{Controls:()=>_e,OptionsPanel:()=>Ne,encode:()=>je,extension:()=>xe,getDefaultOptions:()=>Ce,mimeType:()=>we,name:()=>Ae,optionTemplate:()=>Oe});var i={};t.r(i),t.d(i,{Controls:()=>He,OptionsPanel:()=>Le,Subsampling:()=>Me,encode:()=>Ve,extension:()=>Ue,getDefaultOptions:()=>ze,mimeType:()=>We,name:()=>Be,optionTemplate:()=>De});var a=t(1925),o=t(6258),s=t(8825),c=t(9882),u=t(3889),l=t(6551),d=t(3937),f=t(7174);function h(){return(h=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var p=u.createElement("path",{d:"M409.132 114.573c-19.608-33.596-46.205-60.194-79.798-79.8-33.598-19.607-70.277-29.408-110.063-29.408-39.781 0-76.472 9.804-110.063 29.408-33.596 19.605-60.192 46.204-79.8 79.8C9.803 148.168 0 184.854 0 224.63c0 47.78 13.94 90.745 41.827 128.906 27.884 38.164 63.906 64.572 108.063 79.227 5.14.954 8.945.283 11.419-1.996 2.475-2.282 3.711-5.14 3.711-8.562 0-.571-.049-5.708-.144-15.417a2549.81 2549.81 0 01-.144-25.406l-6.567 1.136c-4.187.767-9.469 1.092-15.846 1-6.374-.089-12.991-.757-19.842-1.999-6.854-1.231-13.229-4.086-19.13-8.559-5.898-4.473-10.085-10.328-12.56-17.556l-2.855-6.57c-1.903-4.374-4.899-9.233-8.992-14.559-4.093-5.331-8.232-8.945-12.419-10.848l-1.999-1.431c-1.332-.951-2.568-2.098-3.711-3.429-1.142-1.331-1.997-2.663-2.568-3.997-.572-1.335-.098-2.43 1.427-3.289 1.525-.859 4.281-1.276 8.28-1.276l5.708.853c3.807.763 8.516 3.042 14.133 6.851 5.614 3.806 10.229 8.754 13.846 14.842 4.38 7.806 9.657 13.754 15.846 17.847 6.184 4.093 12.419 6.136 18.699 6.136 6.28 0 11.704-.476 16.274-1.423 4.565-.952 8.848-2.383 12.847-4.285 1.713-12.758 6.377-22.559 13.988-29.41-10.848-1.14-20.601-2.857-29.264-5.14-8.658-2.286-17.605-5.996-26.835-11.14-9.235-5.137-16.896-11.516-22.985-19.126-6.09-7.614-11.088-17.61-14.987-29.979-3.901-12.374-5.852-26.648-5.852-42.826 0-23.035 7.52-42.637 22.557-58.817-7.044-17.318-6.379-36.732 1.997-58.24 5.52-1.715 13.706-.428 24.554 3.853 10.85 4.283 18.794 7.952 23.84 10.994 5.046 3.041 9.089 5.618 12.135 7.708 17.705-4.947 35.976-7.421 54.818-7.421s37.117 2.474 54.823 7.421l10.849-6.849c7.419-4.57 16.18-8.758 26.262-12.565 10.088-3.805 17.802-4.853 23.134-3.138 8.562 21.509 9.325 40.922 2.279 58.24 15.036 16.18 22.559 35.787 22.559 58.817 0 16.178-1.958 30.497-5.853 42.966-3.9 12.471-8.941 22.457-15.125 29.979-6.191 7.521-13.901 13.85-23.131 18.986-9.232 5.14-18.182 8.85-26.84 11.136-8.662 2.286-18.415 4.004-29.263 5.146 9.894 8.562 14.842 22.077 14.842 40.539v60.237c0 3.422 1.19 6.279 3.572 8.562 2.379 2.279 6.136 2.95 11.276 1.995 44.163-14.653 80.185-41.062 108.068-79.226 27.88-38.161 41.825-81.126 41.825-128.906-.01-39.771-9.818-76.454-29.414-110.049z"});const v=function(e){return u.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 438.549 438.549",fill:"currentColor"},e),p)};function m(){return(m=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var g=u.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),y=u.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"});const b=function(e){return u.createElement("svg",m({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor"},e),g,y)};function A(){return(A=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var w=u.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),x=u.createElement("path",{d:"M19 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"});const j=function(e){return u.createElement("svg",A({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor"},e),w,x)};function O(){return(O=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var C=u.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),N=u.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"});const _=function(e){return u.createElement("svg",O({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor"},e),C,N)};function S(){return(S=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var E=u.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),T=u.createElement("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"});const P=function(e){return u.createElement("svg",S({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor"},e),E,T)};var k=t(1626);const I=()=>{},R=["","K","M","G","T","P","E","Z","Y"];function F(e,n=1024){const t=Math.abs(e);if(0==t)return`${e.toFixed(2)} B`;const r=~~(Math.log2(t)/Math.log2(n));return`${(e/n**r).toFixed(2)} ${R[r]}B`}function B(e){const{type:n,Icon:t,IconChecked:r,name:i,children:o,checked:s,disabled:c,onChange:u=I}=e;return(0,a.jsxs)("label",Object.assign({className:"_2Ov17"},{children:[(0,a.jsx)("input",{type:n,className:"_2IoHf",name:i,disabled:c,onChange:u},void 0),(0,a.jsx)("span",Object.assign({className:(0,k.Z)("_2H-Mw",{OBGYY:s})},{children:s?(0,a.jsx)(r,{},void 0):(0,a.jsx)(t,{},void 0)}),void 0),(0,a.jsx)("span",Object.assign({className:"_11H37"},{children:o}),void 0)]}),void 0)}function W(e){e.currentTarget.blur()}function U(e){const{className:n,children:t,title:r,href:i,disabled:o,active:s,onClick:c}=e,u=(0,k.Z)("qzDJM",n,{_3vITC:s}),l=i?"a":"button";return(0,a.jsx)(l,Object.assign({className:u,title:r,disabled:o,href:i,type:"button",onClick:c,onMouseUp:W},{children:t}),void 0)}function M(e){const{className:n,children:t,title:r,disabled:i,color:o,busy:s,onClick:c}=e,u=(0,k.Z)("_2wLkD",n,o,{_3XmXG:s});return(0,a.jsx)("button",Object.assign({className:u,title:r,disabled:i,type:"button",onClick:c,onMouseUp:W},{children:t}),void 0)}const V="_1H0a4";function D(e){const{name:n,className:t,value:r,min:i,max:o,step:s,disabled:c,onChange:l,onValueChange:d}=e,[f,h]=function(e=0,n=Number.NEGATIVE_INFINITY,t=Number.POSITIVE_INFINITY,r=0){const[i,a]=(0,u.useState)(e);return[i,function(e){if(e>t)e=t;else if(e<n)e=n;else if(0!==r){const n=e/r;Number.isInteger(n)||(e=Math.round(n)*r)}return a(e),e}]}(r,i,o,.5),p=void 0===r?f:r;function v(e){const n=e.target.valueAsNumber;l&&l(e),d&&d(n),h(n)}return(0,a.jsxs)("div",Object.assign({className:(0,k.Z)("_2dfjc",t)},{children:[(0,a.jsx)("input",{type:"number",className:"xI_9P",disabled:c,name:n,value:r,onChange:v},void 0),(0,a.jsx)("button",{type:"button",className:(0,k.Z)(V,"dBnP0"),tabIndex:-1,disabled:c,onClick:()=>v(p+(s||1))},void 0),(0,a.jsx)("button",{type:"button",className:V,tabIndex:-1,disabled:c,onClick:()=>v(p-(s||1))},void 0)]}),void 0)}const z="_3_cLi",L="_1p1yr";function H(){const e=document.body.querySelectorAll("._3_cLi"),n=e[e.length-2];if(n)return n.classList.add(L),()=>n.classList.remove(L)}function Y(e){const{className:n,onClose:t=I}=e;function r(e){"Escape"===e.key&&(t(),e.stopImmediatePropagation())}return(0,u.useEffect)((()=>(window.addEventListener("keyup",r),()=>window.removeEventListener("keyup",r))),[]),(0,u.useLayoutEffect)(H,[]),(0,o.createPortal)((0,a.jsx)("div",Object.assign({className:z},{children:(0,a.jsx)("div",Object.assign({className:(0,k.Z)(n,"_1Vq87")},{children:e.children}),void 0)}),void 0),document.body)}function Z(e){const{state:n,className:t,children:r,onChange:i}=e;function o(e,t){const r=n.x+e,a=n.y+t;i({scale:n.scale,x:r,y:a})}return(0,a.jsx)("div",Object.assign({style:{touchAction:"none"},className:t,onWheel:function(e){const{ctrlKey:t,deltaMode:r,clientX:a,clientY:o}=e;let{deltaY:s}=e;e.preventDefault(),1===r&&(s*=15);const c=1-s/(t?100:300),u=e.currentTarget.firstElementChild.getBoundingClientRect(),l=(u.left+u.width/2-a)*(c-1),d=(u.top+u.height/2-o)*(c-1);i({x:n.x+l,y:n.y+d,scale:n.scale*c})},onTouchStart:function(e){!function(e,n){const t=e.touches[0];function r(e){const r=e.touches[0];n(r.pageX-t.pageX,r.pageY-t.pageY)}document.addEventListener("touchmove",r),document.addEventListener("touchend",(function e(n){n.preventDefault(),document.removeEventListener("touchmove",r),document.removeEventListener("touchend",e)}))}(e.nativeEvent,o)},onMouseDown:function(e){0===e.button&&function(e,n){const t=e.pageX,r=e.pageY;function i(e){n(e.pageX-t,e.pageY-r)}document.addEventListener("mousemove",i),document.addEventListener("mouseup",(function e(n){n.preventDefault(),document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",e)}))}(e.nativeEvent,o)}},{children:r}),void 0)}function G(e){return B({...e,type:"checkbox",Icon:b,IconChecked:j})}function X(e){return B({...e,type:"radio",Icon:_,IconChecked:P})}t(693);var Q=t(4279);async function q(e){const n=URL.createObjectURL(e);try{return await async function(e){const n=new Image;n.decoding="async",n.src=e;const t=new Promise(((e,t)=>{n.onload=()=>e(),n.onerror=()=>t(Error("Image loading error"))}));return n.decode&&await n.decode().catch((()=>null)),await t,n}(n)}finally{URL.revokeObjectURL(n)}}function $(){return new Worker(new URL(t.p+t.u(812),t.b))}async function K(e){const n="createImageBitmap"in self?await createImageBitmap(e):await q(e),t=document.createElement("canvas"),{width:r,height:i}=n;t.width=r,t.height=i;const a=t.getContext("2d");if(!a)throw new Error("Canvas not initialized");return a.drawImage(n,0,0),a.getImageData(0,0,r,i)}function J(e,n,t){let r;return r=async function(i){return r=await e()?n:t,await r(i)},e=>r(e)}new Map,new Map([[/^%PDF-/,"application/pdf"],[/^GIF87a/,"image/gif"],[/^GIF89a/,"image/gif"],[/^\x89PNG\x0D\x0A\x1A\x0A/,"image/png"],[/^\xFF\xD8\xFF/,"image/jpeg"],[/^BM/,"image/bmp"],[/^I I/,"image/tiff"],[/^II*/,"image/tiff"],[/^MM\x00*/,"image/tiff"],[/^RIFF....WEBPVP8[LX ]/,"image/webp"],[/^\xF4\xFF\x6F/,"image/webp2"],[/^\x00\x00\x00 ftypavif\x00\x00\x00\x00/,"image/avif"],[/^\xff\x0a/,"image/jpegxl"]]);const ee=J((function(){const e=new Image;return e.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=",new Promise((n=>{e.onload=()=>n(!0),e.onerror=()=>n(!1)}))}),K,(function(e){const n=$();return e.arrayBuffer().then((e=>(0,Q.Ud)(n).webpDecode(e))).finally((()=>n.terminate()))})),ne=J((function(){const e=new Image;return e.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUEAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABYAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgS0AAAAAABNjb2xybmNseAABAAQAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB5tZGF0EgAKBzgADtAQQBkyCRAAAAAP+I9ngw==",new Promise((n=>{e.onload=()=>n(!0),e.onerror=()=>n(!1)}))}),K,(function(e){const n=$();return e.arrayBuffer().then((e=>(0,Q.Ud)(n).avifDecode(e))).finally((()=>n.terminate()))}));async function te(e){e=function(e){const n=(new DOMParser).parseFromString(e,"image/svg+xml"),t=n.documentElement;if(t.getAttribute("width")&&t.getAttribute("height"))return e;const r=t.getAttribute("viewBox");if(null===r)throw Error("SVG must have width/height or viewBox");const[,,i,a]=r.split(/\s+/);return t.setAttribute("width",i),t.setAttribute("height",a),(new XMLSerializer).serializeToString(n)}(e);const n=new Blob([e],{type:"image/svg+xml"});return function(e,n={}){const{width:t=e.width,height:r=e.height,sx:i=0,sy:a=0,sw:o=e.width,sh:s=e.height}=n,c=document.createElement("canvas");c.width=t,c.height=r;const u=c.getContext("2d");if(!u)throw new Error("Could not create canvas context");return u.drawImage(e,i,a,o,s,0,0,t,r),u.getImageData(0,0,t,r)}(await q(n))}function re(e){switch(e.type){case"image/svg+xml":return e.text().then(te);case"image/webp":return ee(e);case"image/avif":return ne(e);default:return K(e)}}var ie=t(4685),ae=t(5564),oe=t(6314),se=t(9573),ce=t(8877),ue=t(7721),le=t(5185);function de(e){const{description:n,url:t,icon:r,onClick:i}=e,[o,s]=(0,u.useState)(!1);return(0,a.jsxs)("button",Object.assign({className:"_2Z_sH",onClick:async function(){if(!o){s(!0);try{await i(t)}finally{s(!1)}}}},{children:[(0,a.jsx)("img",{src:r,alt:"icon",className:"ZflhA"},void 0),o&&(0,a.jsx)("div",{className:"_2BAvs"},void 0),(0,a.jsx)("span",Object.assign({className:"_3fIXD"},{children:n}),void 0)]}),t)}const fe="_3SDL7",he=[{description:"Large photo (2.8MB)",url:ae,icon:oe},{description:"Artwork (408KB)",url:se,icon:ce},{description:"Colorful text (68KB)",url:le,icon:ue}],pe=new AbortController;function ve(e){const{onCancel:n,onFileChange:t}=e,r=function(){const[e,n]=(0,u.useState)(!1),t=(0,u.useRef)(0);return{isInArea:e,enter:function(){n(++t.current>0)},leave:function(){n(--t.current>0)},reset:function(){t.current=0,n(!1)}}}(),i=(0,u.useRef)(pe),[o,s]=(0,u.useState)("");function c(e){re(e).then((n=>t(e,n))).catch((()=>s("Can not decode file as image.")))}async function l(e){const n=new AbortController;i.current.abort(),i.current=n;const{signal:t}=n;try{c(await async function(e,n){const t=await fetch(e,{signal:n}),r=await t.blob(),i=/[^;]*/.exec(r.type)[0],a=new URL(e).pathname.split("/").pop()||"image",o=t.headers.get("last-modified"),s=o?new Date(o).getTime():void 0;return new File([r],a,{type:i,lastModified:s})}(e,t))}catch(e){if("AbortError"!==e.name)throw e}}const d=he.map((e=>(0,u.createElement)(de,Object.assign({},e,{key:e.url,onClick:l}))));return(0,a.jsxs)(Y,Object.assign({onClose:n},{children:[(0,a.jsxs)("div",Object.assign({className:"dialog-content"},{children:[(0,a.jsxs)("label",Object.assign({className:(0,k.Z)("_3uHix",{_2jvwR:r.isInArea}),tabIndex:0,onDragEnter:r.enter,onDragOver:e=>e.preventDefault(),onDrop:function(e){e.preventDefault(),r.reset(),i.current.abort();const{items:n}=e.dataTransfer,t=n[0].getAsFile();t?c(t):s("The dropped item is not a file")},onDragLeave:r.leave},{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",Object.assign({className:"wYvdR"},{children:(0,a.jsx)(ie.Z,{},void 0)}),void 0),(0,a.jsx)("span",Object.assign({className:fe},{children:"Drag & drop"}),void 0)]},void 0),(0,a.jsx)("div",Object.assign({className:fe},{children:"Or select an image"}),void 0),(0,a.jsx)("input",{className:"_3-brh",name:"file",type:"file",accept:"image/*",onChange:function(e){i.current.abort();const{files:n}=e.currentTarget;(null==n?void 0:n.length)&&c(n[0])}},void 0)]}),void 0),(0,a.jsx)("span",Object.assign({className:"_2Sr67"},{children:"Or try one of these:"}),void 0),(0,a.jsx)("div",Object.assign({className:"_3BC6E"},{children:d}),void 0)]}),void 0),(0,a.jsxs)("div",Object.assign({className:"dialog-actions"},{children:[(0,a.jsx)("span",Object.assign({className:"Qed9H"},{children:o}),void 0),(0,a.jsx)(M,Object.assign({color:"second",onClick:n},{children:"Back"}),void 0)]}),void 0)]}),void 0)}const me={quality:75,target_size:0,target_PSNR:0,method:4,sns_strength:50,filter_strength:60,filter_sharpness:0,filter_type:1,partitions:0,segments:4,pass:1,show_compressed:0,preprocessing:0,autofilter:0,partition_limit:0,alpha_compression:1,alpha_filtering:1,alpha_quality:100,lossless:0,exact:0,image_hint:0,emulate_jpeg_size:0,thread_level:0,low_memory:0,near_lossless:100,use_delta_palette:0,use_sharp_yuv:0};class ge{constructor(e,n,t){this.min=e,this.max=n,this.defaultValue=t}newValue(){return this.defaultValue}ValueField(e,n){const{min:t,max:r}=this;return(0,a.jsxs)("label",{children:[(0,a.jsx)("p",{children:e},void 0),(0,a.jsx)("input",{type:"number",min:t,max:r,value:n},void 0)]},void 0)}newVariable(){return{min:this.min,max:this.max,step:1}}VariableField(e,n){const{min:t,max:r}=this;return(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:e},void 0),(0,a.jsxs)("label",{children:[(0,a.jsx)("span",{children:"from:"},void 0),(0,a.jsx)(D,{value:n.min,min:t,max:r},void 0)]},void 0),(0,a.jsxs)("label",{children:[(0,a.jsx)("span",{children:"to:"},void 0),(0,a.jsx)("input",{type:"number",min:t,max:r,value:n.max},void 0)]},void 0),(0,a.jsxs)("label",{children:[(0,a.jsx)("span",{children:"step:"},void 0),(0,a.jsx)("input",{type:"number",min:t,max:r,value:n.step},void 0)]},void 0)]},void 0)}*generate(e,n,t){const{min:r,max:i,step:a}=t;for(let t=r;t<i;t+=a)yield{...n,[e]:t}}}class ye{constructor(e){this.defaultValue=e}newValue(){return this.defaultValue}ValueField(e,n){return(0,a.jsx)(G,{checked:n},void 0)}newVariable(){}VariableField(e){return(0,a.jsx)("strong",{children:"OFF & ON"},void 0)}*generate(e,n){yield{...n,[e]:!1},yield{...n,[e]:!0}}}class be{constructor(e,n){this.enumObject=e,this.defaultValue=n}newValue(){return this.defaultValue}ValueField(e,n){const t=Object.keys(this.enumObject).map((e=>(0,a.jsx)(X,Object.assign({name:e,checked:n},{children:e}),e)));return(0,a.jsx)("div",{children:t},void 0)}newVariable(){const e=Object.keys(this.enumObject).map((e=>({[e]:!1})));return e[this.defaultValue]=!0,e}VariableField(e,n){const t=Object.entries(n).map((n=>(0,a.jsx)(G,Object.assign({name:e,checked:n[1]},{children:n[0]}),e)));return(0,a.jsx)("div",{children:t},void 0)}generate(e,n,t){return Object.entries(t).filter((e=>e[1])).map((e=>this.enumObject[e[0]]))}}const Ae="WebP",we="image/webp",xe="webp";function je(e,n){return n.webpEncode(e)}const Oe=[{label:"Quality (-q)",name:"quality",type:new ge(0,100,75),defaultVariable:!0},{label:"Method (-m)",name:"method",type:new ge(0,6,4)},{label:"Spatial noise shaping (-sns)",name:"sns",type:new ge(0,100,50)},{label:"Filter strength (-f)",name:"filter_strength",type:new ge(0,100,60)},{label:"Preset (-preset)",name:"preset",type:new be({default:{},photo:{sns_strength:80,filter_sharpness:3,filter_strength:30,preprocessing:2},picture:{sns_strength:80,filter_sharpness:4,filter_strength:35,preprocessing:-3},drawing:{sns_strength:25,filter_sharpness:6,filter_strength:10},icon:{sns_strength:25,filter_strength:10,preprocessing:-3},text:{sns_strength:0,filter_strength:0,segments:2,preprocessing:-3}},"default")},{label:"User strong filter (-strong)",name:"filter_type",type:new ye(!0)},{label:"Auto adjust filter strength (-af)",name:"autofilter",type:new ye(!1)},{label:"Filter sharpness (-sharpness)",name:"filter_sharpness",type:new ge(0,7,0)},{label:"Hint (-hint)",name:"image_hint",type:new be({DEFAULT:0,PICTURE:1,PHOTO:2,GRAPH:3},"DEFAULT")}];function Ce(){return(0,a.jsx)("div",{},void 0)}function Ne(e){const{options:n,onChange:t}=e;return(0,a.jsx)("div",{children:"test"},void 0)}function _e(e){return(0,a.jsx)("div",{},void 0)}function Se(e){const{file:n}=e,{width:t,height:r,data:i}=e.image,o=(n.size/i.byteLength*100).toFixed(2);return(0,a.jsxs)("div",Object.assign({className:"dialog-content"},{children:[(0,a.jsx)("canvas",{className:"WKrzW",ref:function(n){if(!n)return;const t=n.getContext("2d");null==t||t.putImageData(e.image,0,0)},width:t,height:r},void 0),(0,a.jsxs)("dl",Object.assign({className:"lL9Er"},{children:[(0,a.jsx)("dt",{children:"File name:"},void 0),(0,a.jsx)("dd",{children:n.name},void 0),(0,a.jsx)("dt",{children:"Type:"},void 0),(0,a.jsx)("dd",{children:n.type},void 0),(0,a.jsx)("dt",{children:"Resolution:"},void 0),(0,a.jsxs)("dd",{children:[t," x ",r]},void 0),(0,a.jsx)("dt",{children:"Raw size:"},void 0),(0,a.jsx)("dd",{children:F(i.byteLength)},void 0),(0,a.jsx)("dt",{children:"File size:"},void 0),(0,a.jsxs)("dd",{children:[F(n.size)," (",o,"%)"]},void 0)]}),void 0)]}),void 0)}t(9650),t(8059);const Ee={hfAsymmetry:1,goodQualitySeek:1.5,badQualitySeek:.5},Te={form:"_3_OKa dialog-content",field:"_2vX3s",inlineLabel:"_2MSGh",label:"ba7J1"};function Pe(e){const{options:n,onChange:t}=e;function r(e){const{name:r,valueAsNumber:i}=e.currentTarget;t({...n,[r]:i})}const i=Object.entries(n).map((([e,n])=>(0,a.jsxs)("label",Object.assign({className:Te.field},{children:[(0,a.jsx)("span",Object.assign({className:Te.label},{children:e}),void 0),(0,a.jsx)(D,{className:Te.value,name:e,min:0,step:.1,value:n,onChange:r},void 0)]}),e)));return(0,a.jsx)("fieldset",Object.assign({className:"subfields"},{children:i}),void 0)}function ke(e){const{workerCount:n,onWorkerCountChange:t,onMeasureChange:r}=e,{time:i,SSIM:o,PSNR:s,butteraugli:c}=e.options,[l,d]=(0,u.useState)(Ee);let f=null;function h(n){const{name:t,checked:i}=n.currentTarget,a="butteraugli"!==t?i:i&&l;r({...e.options,[t]:a})}return c&&(f=(0,a.jsx)(Pe,{options:l,onChange:d},void 0)),(0,a.jsxs)("form",Object.assign({className:Te.form},{children:[(0,a.jsxs)("label",{children:[(0,a.jsx)("span",Object.assign({className:Te.inlineLabel},{children:"Worker count:"}),void 0),(0,a.jsx)(D,{value:n,min:1,step:1,onChange:e=>t(e.target.valueAsNumber)},void 0)]},void 0),(0,a.jsx)(G,Object.assign({checked:o,name:"SSIM",onChange:h},{children:"Calculate SSIM"}),void 0),(0,a.jsx)(G,Object.assign({checked:s,name:"PSNR",onChange:h},{children:"Calculate PSNR"}),void 0),(0,a.jsx)(G,Object.assign({checked:!!c,name:"butteraugli",onChange:h},{children:"Calculate Butteraugli"}),void 0),f]}),void 0)}const Ie="_29qBc";var Re=t(6293),Fe=t(659);const Be="AVIF",We="image/avif",Ue="avif",Me={YUV400:0,YUV420:1,YUV422:2,YUV444:3};function Ve(e,n){return n.avifEncode(e)}const De=[{label:"minQuantizer",name:"minQuantizer",type:new ge(0,63,33),defaultVariable:!0},{label:"maxQuantizer",name:"maxQuantizer",type:new ge(0,63,63)},{label:"minQuantizerAlpha",name:"minQuantizer",type:new ge(0,63,33),defaultVariable:!0},{label:"maxQuantizerAlpha",name:"maxQuantizerAlpha",type:new ge(0,63,63)},{label:"speed",name:"speed",type:new ge(0,10,8)},{label:"subsample",name:"subsample",type:new be(Me,"YUV420")}];function ze(){return(0,a.jsx)("div",{},void 0)}function Le(e){return(0,a.jsx)("div",{},void 0)}function He(e){return(0,a.jsx)("div",{},void 0)}const Ye=[r,i],Ze=(Object.fromEntries(Ye.map((e=>[e.name,e]))),"_1LeZ1 dialog-content");function Ge(e){const[n,t]=(0,u.useState)(Ye[0]),[r,i]=(0,u.useState)(Ye),[o,s]=(0,u.useState)({}),c=r.map(((e,o)=>{const s=(0,k.Z)("_2SlrA",{_1krxL:e===n});return(0,a.jsxs)("div",Object.assign({className:s,onClick:()=>t(e)},{children:[(0,a.jsx)(U,Object.assign({className:"_3doEr",onClick:function(a){a.stopPropagation(),r.splice(o,1),i([...r]),e===n&&t(r[0])}},{children:(0,a.jsx)(Fe.Z,{},void 0)}),void 0),(0,a.jsx)("span",Object.assign({className:"_2G5o7"},{children:e.name}),void 0)]}),e.name)})),{OptionsPanel:l}=n;return(0,a.jsxs)("div",Object.assign({className:Ze},{children:[(0,a.jsxs)("div",Object.assign({className:"_1IVOA"},{children:[c,(0,a.jsx)(U,Object.assign({title:"Add encoder",className:"_265Bb _2SlrA",onClick:function(){}},{children:(0,a.jsx)(Re.Z,{},void 0)}),void 0)]}),void 0),(0,a.jsx)(l,{options:o[n.name],onChange:function(e){s({...o,[n.name]:e})}},void 0)]}),void 0)}function Xe(e){return(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:"Resize:"},void 0),(0,a.jsxs)("select",{children:[(0,a.jsx)("option",{children:"100"},void 0),(0,a.jsx)("option",{children:"50"},void 0),(0,a.jsx)("option",{children:"25"},void 0),(0,a.jsx)("option",{children:"12.5"},void 0),(0,a.jsx)("option",{children:"6.25"},void 0)]},void 0)]},void 0)}function Qe(e){const{file:n,image:t,onStart:i,onClose:o,onSelectFile:s}=e,[c,l]=(0,u.useState)({}),[d,f]=(0,u.useState)(navigator.hardwareConcurrency),[h,p]=(0,u.useState)({time:!1,SSIM:!1,PSNR:!0,butteraugli:!1}),[v,m]=(0,u.useState)(0),g=["Information","Preprocess","Encoders","Measure"],y=[];for(let e=0;e<g.length;e++){const n=g[e],t=e===v?(0,k.Z)(Ie,"wG4Ax"):Ie;y.push((0,a.jsx)("div",Object.assign({className:t,onClick:()=>m(e)},{children:n}),e))}let b;switch(v){case 0:b=(0,a.jsx)(Se,{file:n,image:t},void 0);break;case 1:b=(0,a.jsx)(Xe,{},void 0);break;case 2:b=(0,a.jsx)(Ge,{onChange:l},void 0);break;case 3:b=(0,a.jsx)(ke,{workerCount:d,options:h,onWorkerCountChange:f,onMeasureChange:p},void 0);break;default:throw new Error}return(0,a.jsxs)(Y,Object.assign({className:"_6sryz",onClose:o},{children:[(0,a.jsx)("div",Object.assign({className:"_3x7vU"},{children:y}),void 0),b,(0,a.jsxs)("div",Object.assign({className:"dialog-actions"},{children:[(0,a.jsx)(M,Object.assign({onClick:s},{children:"Select file"}),void 0),(0,a.jsx)(M,Object.assign({color:"second",onClick:o},{children:"Cancel"}),void 0),(0,a.jsx)(M,Object.assign({disabled:!n,onClick:async function(){const e=new Array(101);for(let n=0;n<101;n++)e[n]={...me,quality:n,use_sharp_yuv:1};i({encoder:r,optionsList:e,measure:h,threads:d})}},{children:"Start"}),void 0)]}),void 0)]}),void 0)}const qe=new Intl.RelativeTimeFormat("en");function $e(e,n,t){return(t-n)/n*(performance.now()-e)}function Ke(e){const{value:n,max:t,onCancel:r}=e,[i]=(0,u.useState)((()=>performance.now())),o=(0,u.useMemo)((()=>function(e,n){let t,r=!1;return function(...e){return r?t:(r=!0,setTimeout((()=>r=!1),500),t=n.apply(this,e))}}(0,$e)),[])(i,n,t),s=Number.isNaN(o)?"----":qe.format(~~(o/1e3),"seconds");return(0,a.jsxs)(Y,{children:[(0,a.jsxs)("div",Object.assign({className:"_1RFbq dialog-content"},{children:[(0,a.jsx)("h1",{children:"Encoding..."},void 0),(0,a.jsxs)("div",Object.assign({className:"_3vxdS"},{children:[(0,a.jsxs)("span",{children:[n," / ",t]},void 0),(0,a.jsx)("span",{children:s},void 0)]}),void 0),(0,a.jsx)("progress",{value:n,max:t,className:"mrzz8"},void 0)]}),void 0),(0,a.jsx)("div",Object.assign({className:"_3UNgR dialog-actions"},{children:(0,a.jsx)(M,Object.assign({color:"second",onClick:r},{children:" Cancel "}),void 0)}),void 0)]},void 0)}function Je(e){const[n,t]=(0,u.useState)(),[r,i]=(0,u.useState)(),[o,s]=(0,u.useState)(!0),[c,l]=(0,u.useState)(null),[d,f]=(0,u.useState)(1),[h,p]=(0,u.useState)(0);return e.open?c?(0,a.jsx)(Ke,{value:h,max:d,onCancel:function(){c.terminate(),l(null)}},void 0):o?(0,a.jsx)(ve,{onCancel:function(){n?s(!1):e.onClose()},onFileChange:async function(e){const n=await re(e);t(e),i(n),s(!1)}},void 0):(0,a.jsx)(Qe,{image:r,file:n,onSelectFile:()=>s(!0),onClose:e.onClose,onStart:async function(t){if(!n)throw new Error("File is null");const r=await re(n),i=new BatchEncoder(r,t);f(i.progressMax),p(0),i.onProgress=p,l(i);const a=await i.encode();i.terminate(),l(null),e.onChange({original:{file:n,data:r},codec:t.encoder,outputs:a})}},void 0):null}var en=t(4085);function nn(e){const{original:n,outputs:t,index:r}=e,[i,o]=(0,u.useState)();return(0,u.useEffect)((()=>{if(!i)return;i.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:r});const e=i.getOption().series;i.setOption({legend:{formatter:n=>{const t=e.filter((e=>e.name===n));return`${n}: ${t[0].data[r].toFixed(2)}`},data:i.getOption().legend.data}})})),(0,a.jsx)("section",Object.assign({className:"_3T5Kh"},{children:(0,a.jsx)("div",{className:"JAZV5",ref:function(e){if(e&&n&&!i){const r=(0,en.S1)(e,"dark",{renderer:"svg"});o(r),function(e,n,t){const r=[],i=[],a=[];let o=0;function s(e,n){if(void 0===n(t[0]))return;const s=t.map(n);r.push(e),i.push({type:"value",show:!1}),a.push({name:e,type:"line",data:s,yAxisIndex:o++})}const c=n.file.size/100;s("Compression Ratio %",(e=>e.buffer.byteLength/c)),i[0].show=!0,s("Encode Time (ms)",(e=>e.time)),s("SSIM",(e=>e.metrics.SSIM)),s("PSNR (db)",(e=>e.metrics.PSNR)),s("Butteraugli Source",(e=>{var n;return null===(n=e.metrics.butteraugli)||void 0===n?void 0:n.source})),e.setOption({tooltip:{trigger:"axis",showContent:!1,triggerOn:"none"},legend:{data:r},xAxis:{data:t.map(((e,n)=>n))},yAxis:i,series:a,backgroundColor:"transparent"})}(r,n,t)}}},void 0)}),void 0)}const tn="_1qN8w",rn={container:"_3kS7K",inputs:"_1Tvc7 controls",imageView:"_1iZci",wrapper:"_2sQef",canvas:"_1YBWC"};var an;function on(e,n){if(null===n.current)throw new Error("Canvas is null");const t=n.current.getContext("2d");if(!t)throw new Error("Canvas not initialized");t.putImageData(e,0,0)}function sn(e){const{original:n,optimized:t}=e,{width:r=0,height:i=0}=(null==n?void 0:n.data)||{},[o,s]=(0,u.useState)(an.Compressed),[c,l]=(0,u.useState)(100),[d,f]=(0,u.useState)({x:0,y:0,scale:1}),h=(0,u.useRef)(null),p=(0,u.useRef)(null);function v(e){const{children:n,target:t,disabled:r,title:i}=e;return(0,a.jsx)(U,Object.assign({active:o===t,disabled:r,title:i,onClick:()=>s(t)},{children:n}),void 0)}(0,u.useEffect)((function(){n&&(f({x:0,y:0,scale:1}),on(n.data,h))}),[n]),(0,u.useEffect)((function(){if(!t)return;const{metrics:e,data:n}=t;on(o===an.HeatMap?e.butteraugli.heatMap:n,p)}),[o,t]);let m=null,g=100;o===an.AbsDiff&&(g=c,m=(0,a.jsxs)("label",{children:["Brightness:",(0,a.jsx)(D,{value:c,min:100,step:50,onValueChange:l},void 0)]},void 0));const y={width:r,height:i,"--scale":d.scale,"--x":d.x+"px","--y":d.y+"px","--brightness":`${g}%`},b=o===an.AbsDiff?"difference":void 0,A=!(null==t?void 0:t.metrics.butteraugli),w=A?"You should enable butteraugli to see this":void 0;return(0,a.jsxs)("div",Object.assign({className:rn.container},{children:[(0,a.jsxs)("div",Object.assign({className:rn.inputs},{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(v,Object.assign({target:an.Original},{children:"Original"}),void 0),(0,a.jsx)(v,Object.assign({target:an.Compressed},{children:"Output"}),void 0),(0,a.jsx)(v,Object.assign({target:an.AbsDiff},{children:"Difference"}),void 0),(0,a.jsx)(v,Object.assign({disabled:A,title:w,target:an.HeatMap},{children:"HeatMap"}),void 0)]},void 0),m]}),void 0),(0,a.jsx)("div",{className:rn.controls},void 0),(0,a.jsx)(Z,Object.assign({className:rn.imageView,state:d,onChange:f},{children:(0,a.jsxs)("div",Object.assign({className:rn.wrapper,style:y},{children:[(0,a.jsx)("canvas",{className:rn.canvas,ref:h,width:r,height:i},void 0),(0,a.jsx)("canvas",{className:rn.canvas,ref:p,width:r,height:i,style:{mixBlendMode:b},hidden:o===an.Original},void 0)]}),void 0)}),void 0)]}),void 0)}!function(e){e[e.Original=0]="Original",e[e.Compressed=1]="Compressed",e[e.AbsDiff=2]="AbsDiff",e[e.HeatMap=3]="HeatMap"}(an||(an={}));const cn={codec:void 0,original:void 0,outputs:[]};function un(e){const{title:n,buffer:t,filename:r,children:i}=e,{mimeType:o,extension:s}=e.encoder||{},[c,l]=(0,u.useState)("");return(0,u.useEffect)((()=>()=>URL.revokeObjectURL(c)),[]),(0,a.jsx)(U,Object.assign({className:tn,title:n,disabled:!t,onClick:function(){const e=new Blob([t],{type:o});URL.revokeObjectURL(c);const n=URL.createObjectURL(e);l(n);const i=document.createElement("a");i.href=n,i.download=r.replace(/.[^.]*$/,`.${s}`),document.body.appendChild(i),i.click(),document.body.removeChild(i)}},{children:i}),void 0)}(function(){try{new File([],"")}catch{return!1}return!!CSS.supports("mix-blend-mode: difference")&&"AbortController"in window})()||alert("ICAnalyze does not support this browser, please switch to a modern one"),s.S({dsn:"https://d101904fac2c486ea6f8563c2cf054af@o253601.ingest.sentry.io/5499968",integrations:[new c.jK.BrowserTracing],tracesSampleRate:.2}),o.render((0,a.jsx)((function(){var e,n;const[t,r]=(0,u.useState)(cn),[i,o]=(0,u.useState)(!1),[s,c]=(0,u.useState)(!0),[h,p]=(0,u.useState)(0),[m,g]=(0,u.useState)([]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(sn,Object.assign({},t,{optimized:t.outputs[h]}),void 0),i&&(0,a.jsx)(nn,{original:t.original,outputs:m,index:h},void 0),(0,a.jsxs)("div",Object.assign({className:"_2vHCK controls"},{children:[(0,a.jsx)(U,Object.assign({title:"Fork me from GitHub",href:"https://github.com/Kaciras/ICAnalyze",className:tn},{children:(0,a.jsx)(v,{},void 0)}),void 0),(0,a.jsx)(U,Object.assign({title:"Select an image",className:tn,onClick:()=>c(!0)},{children:(0,a.jsx)(l.Z,{},void 0)}),void 0),(0,a.jsx)(U,Object.assign({title:"Show chart",className:tn,disabled:t===cn,active:i,onClick:()=>o(!i)},{children:(0,a.jsx)(d.Z,{},void 0)}),void 0),(0,a.jsx)(un,Object.assign({title:"Download compressed image",filename:null===(e=t.original)||void 0===e?void 0:e.file.name,encoder:t.codec,buffer:null===(n=t.outputs[h])||void 0===n?void 0:n.buffer},{children:(0,a.jsx)(f.Z,{},void 0)}),void 0)]}),void 0),(0,a.jsx)("div",Object.assign({className:"_36pDd controls"},{children:(0,a.jsxs)("label",{children:[(0,a.jsxs)("p",{children:["Quality (-q)",(0,a.jsx)("span",Object.assign({className:"_1Keds"},{children:h}),void 0)]},void 0),(0,a.jsx)(RangeInput,{value:h,min:0,step:1,max:100,onChange:function(e){p(e.currentTarget.valueAsNumber)}},void 0)]},void 0)}),void 0),s&&(0,a.jsx)(Je,{onClose:()=>c(!1),onChange:async function(e){r(e),g(e.outputs),p(75),o(!0),c(!1)}},void 0)]},void 0)}),{},void 0),document.getElementById("root"))},8877:(e,n,t)=>{"use strict";e.exports=t.p+"artwork-icon.bc259.jpg"},9573:(e,n,t)=>{"use strict";e.exports=t.p+"artwork.b7c32.jpg"},7721:(e,n,t)=>{"use strict";e.exports=t.p+"colorful-text-icon.75a8e.png"},5185:(e,n,t)=>{"use strict";e.exports=t.p+"colorful-text.b5bb7.png"},2993:()=>{},1386:()=>{}},n={};function t(r){if(n[r])return n[r].exports;var i=n[r]={id:r,loaded:!1,exports:{}};return e[r](i,i.exports,t),i.loaded=!0,i.exports}t.m=e,t.x=e=>{},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.u=e=>e+".js",t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var r=n.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),(()=>{t.b=document.baseURI||self.location.href;var e={826:0},n=[[3454,148]],r=e=>{},i=(i,a)=>{for(var o,s,[c,u,l,d]=a,f=0,h=[];f<c.length;f++)s=c[f],t.o(e,s)&&e[s]&&h.push(e[s][0]),e[s]=0;for(o in u)t.o(u,o)&&(t.m[o]=u[o]);for(l&&l(t),i&&i(a);h.length;)h.shift()();return d&&n.push.apply(n,d),r()},a=self.webpackChunkic_analyze=self.webpackChunkic_analyze||[];function o(){for(var r,i=0;i<n.length;i++){for(var a=n[i],o=!0,s=1;s<a.length;s++){var c=a[s];0!==e[c]&&(o=!1)}o&&(n.splice(i--,1),r=t(t.s=a[0]))}return 0===n.length&&(t.x(),t.x=e=>{}),r}a.forEach(i.bind(null,0)),a.push=i.bind(null,a.push.bind(a));var s=t.x;t.x=()=>(t.x=s||(e=>{}),(r=o)())})(),t.x()})();
//# sourceMappingURL=index.js.map